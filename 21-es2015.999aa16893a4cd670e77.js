(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{dhUD:function(e,n,t){"use strict";t.r(n),t.d(n,"OrdermanagementPageModule",(function(){return N}));var r=t("ofXK"),a=t("3Pt+"),o=t("tyNb"),i=t("TEn/"),s=t("mrSG"),c=t("2Vo4"),l=t("OJQs"),d=t("lJxs"),p=t("tk/3"),u=t("rdXg"),m=t("0IaG"),b=t("fXoL"),f=t("A5z7"),h=t("sYmb");const g=["orderslist"];function y(e,n){if(1&e){const e=b.Xb();b.Wb(0,"app-appicon",25),b.ec("actionEvent",(function(n){return b.Cc(e),b.ic().deleteOrders(n)})),b.Vb()}2&e&&b.rc("icon","delete")("askquestion",!0)("icontext","Remove All")("isiconwithtext",!0)}function _(e,n){if(1&e){const e=b.Xb();b.Wb(0,"ion-button",26),b.ec("click",(function(){return b.Cc(e),b.ic().downloadOrders()})),b.Rb(1,"ion-icon",27),b.Vb()}}function v(e,n){if(1&e){const e=b.Xb();b.Wb(0,"ion-toolbar",0),b.Wb(1,"ion-searchbar",28),b.ec("ngModelChange",(function(n){return b.Cc(e),b.ic().queryText=n})),b.jc(2,"translate"),b.Vb(),b.Vb()}if(2&e){const e=b.ic();b.rc("color","secondary"),b.Db(1),b.sc("placeholder",b.kc(2,3,"Search Order")),b.rc("ngModel",e.queryText)}}const w=function(){return[]};function j(e,n){if(1&e&&(b.Mc(0),b.Rb(1,"ion-progress-bar",29)),2&e){const e=b.ic();b.Oc(" ",e.currentlist(b.uc(1,w))," ")}}function k(e,n){1&e&&(b.Wb(0,"div",43),b.Wb(1,"ion-label",44),b.Mc(2,"PAID "),b.Vb(),b.Vb())}function C(e,n){1&e&&(b.Wb(0,"ion-label",44),b.Mc(1),b.jc(2,"translate"),b.Vb()),2&e&&(b.Db(1),b.Oc(" ",b.kc(2,1,"Refund Initiated")," "))}function x(e,n){1&e&&(b.Wb(0,"ion-label",44),b.Mc(1),b.jc(2,"translate"),b.Vb()),2&e&&(b.Db(1),b.Oc(" ",b.kc(2,1,"Refunded")," "))}const E=function(e){return{refundDoneSection:!0,refundDoneCheckSection:e}};function S(e,n){if(1&e&&(b.Wb(0,"div",45),b.Kc(1,C,3,3,"ion-label",46),b.Kc(2,x,3,3,"ion-label",46),b.Vb()),2&e){const e=b.ic().$implicit;b.rc("ngClass",b.vc(3,E,e.refunded&&1==e.refunded)),b.Db(1),b.rc("ngIf",!e.refunded),b.Db(1),b.rc("ngIf",e.refunded&&1==e.refunded)}}function O(e,n){1&e&&(b.Wb(0,"div",47),b.Wb(1,"ion-label",44),b.Mc(2,"COD "),b.Vb(),b.Vb())}function D(e,n){1&e&&(b.Wb(0,"mat-chip"),b.Mc(1),b.jc(2,"translate"),b.Vb()),2&e&&(b.Db(1),b.Oc(" ",b.kc(2,1,"Test"),""))}function M(e,n){if(1&e){const e=b.Xb();b.Wb(0,"app-appicon",25),b.ec("actionEvent",(function(){b.Cc(e);const n=b.ic(2).$implicit;return b.ic(2).deleteNotice(n)})),b.Vb()}2&e&&b.rc("icon","delete")("askquestion",!0)("icontext","delete")("isiconwithtext",!0)}function P(e,n){if(1&e){const e=b.Xb();b.Wb(0,"app-appicon",25),b.ec("actionEvent",(function(){return b.Cc(e),b.ic(4).printservice.openPrinterSetting()})),b.Vb()}2&e&&b.rc("icon","settings_applications")("askquestion",!1)("icontext","Printer Config")("isiconwithtext",!0)}function R(e,n){if(1&e){const e=b.Xb();b.Wb(0,"ion-item"),b.Wb(1,"div",48),b.Kc(2,M,1,4,"app-appicon",3),b.Wb(3,"app-apporderstatus",49),b.ec("actionEvent",(function(n){b.Cc(e);const t=b.ic().$implicit;return b.ic(2).takeAcion(n,t)})),b.Vb(),b.Wb(4,"div",50),b.Rb(5,"app-callphone",51),b.Vb(),b.Wb(6,"app-appicon",52),b.ec("actionEvent",(function(){b.Cc(e);const n=b.ic().$implicit;return b.ic(2).print(n)})),b.Vb(),b.Wb(7,"app-appicon",52),b.ec("actionEvent",(function(){b.Cc(e);const n=b.ic().$implicit;return b.ic(2).assignOrder(n)})),b.Vb(),b.Wb(8,"app-appicon",25),b.ec("actionEvent",(function(){b.Cc(e);const n=b.ic().$implicit;return b.ic(2).print(n)})),b.Vb(),b.Kc(9,P,1,4,"app-appicon",3),b.Vb(),b.Vb()}if(2&e){const e=b.ic().$implicit,n=b.ic(2);b.Db(2),b.rc("ngIf",!("COMPLETED"==e.ostatus||"CANCELLED"==e.ostatus)),b.Db(1),b.rc("currentvalue",e.ostatus)("orderstatus",n.getstatus(n.ygen.orderstatus,e.ostatus)),b.Db(2),b.rc("mobile",e.orderByPhone),b.Db(1),b.rc("icon","share")("color","secondary")("askquestion",!1)("icontext","share/print")("isiconwithtext",!0),b.Db(1),b.rc("icon","bike_scooter")("color","warn")("askquestion",!1)("icontext","assign delivery")("isiconwithtext",!0),b.Db(1),b.rc("icon","receipt")("askquestion",!1)("icontext","receipt")("isiconwithtext",!0),b.Db(1),b.rc("ngIf",n.printservice.selectedprinterflag)}}function W(e,n){if(1&e){const e=b.Xb();b.Wb(0,"ion-item",53),b.Wb(1,"div",54),b.Wb(2,"app-appdelete",55),b.ec("actionEvent",(function(){b.Cc(e);const n=b.ic().$implicit;return b.ic(2).refundOrder(n)})),b.Vb(),b.Vb(),b.Vb()}}function I(e,n){if(1&e){const e=b.Xb();b.Wb(0,"ion-item"),b.Wb(1,"div",56),b.Wb(2,"app-appicon",57),b.ec("actionEvent",(function(){b.Cc(e);const n=b.ic().$implicit;return b.ic(2).checkRefundOrder(n)})),b.Vb(),b.Vb(),b.Vb()}2&e&&(b.Db(2),b.rc("color","accent")("icon","fact_check")("askquestion",!0)("icontext","check refund")("askquestiontext","Do you want to verify Refund Status")("isiconwithtext",!0))}function q(e,n){if(1&e){const e=b.Xb();b.Wb(0,"ion-card"),b.Wb(1,"div",31),b.Kc(2,k,3,0,"div",32),b.Kc(3,S,3,5,"div",33),b.Kc(4,O,3,0,"div",34),b.Wb(5,"ion-card-header"),b.Wb(6,"ion-card-subtitle"),b.Wb(7,"div"),b.Mc(8),b.Vb(),b.Wb(9,"div"),b.Mc(10),b.Vb(),b.Vb(),b.Wb(11,"ion-card-title",5),b.ec("click",(function(){b.Cc(e);const t=n.$implicit;return b.ic(2).ygen.routeto("/order",{orderid:t.$key})})),b.Wb(12,"mat-chip-list",35),b.Wb(13,"mat-chip",36),b.Mc(14),b.Vb(),b.Wb(15,"mat-chip",37),b.Mc(16),b.Vb(),b.Kc(17,D,3,3,"mat-chip",38),b.Vb(),b.Vb(),b.Vb(),b.Wb(18,"ion-card-content",5),b.ec("click",(function(){b.Cc(e);const t=n.$implicit;return b.ic(2).ygen.routeto("/order",{orderid:t.$key})})),b.Wb(19,"table",39),b.Wb(20,"tbody"),b.Wb(21,"tr"),b.Wb(22,"td",40),b.Mc(23),b.jc(24,"translate"),b.Vb(),b.Wb(25,"td",41),b.Mc(26),b.Vb(),b.Vb(),b.Wb(27,"tr"),b.Wb(28,"td",40),b.Mc(29),b.jc(30,"translate"),b.Vb(),b.Wb(31,"td",41),b.Mc(32),b.Vb(),b.Vb(),b.Wb(33,"tr"),b.Wb(34,"td",40),b.Mc(35),b.jc(36,"translate"),b.Vb(),b.Wb(37,"td",41),b.Mc(38),b.Vb(),b.Vb(),b.Vb(),b.Vb(),b.Vb(),b.Kc(39,R,10,19,"ion-item",38),b.Kc(40,W,3,0,"ion-item",42),b.Kc(41,I,3,6,"ion-item",38),b.Vb(),b.Vb()}if(2&e){const e=n.$implicit,t=b.ic(2);b.Db(1),b.tc("id","print",e.sendorderid,""),b.Db(1),b.rc("ngIf",(!e.refundinitiated||0==e.refundinitiated)&&"PNO"==e.paymentmethod&&"Success"==(null==e.paymentResponse?null:e.paymentResponse.order_status)),b.Db(1),b.rc("ngIf",e.refundinitiated&&1==e.refundinitiated&&"PNO"==e.paymentmethod&&"Success"==(null==e.paymentResponse?null:e.paymentResponse.order_status)),b.Db(1),b.rc("ngIf","COD"==e.paymentmethod),b.Db(4),b.Oc("On ",t.ygen.formatTimestampToDate(e.odt),""),b.Db(2),b.Nc(t.ygen.sincewhen(e.odt)),b.Db(4),b.Oc(" ",e.sendorderid,""),b.Db(2),b.Pc("",t.ygen.getcurrencysymbol()," ",e.amount,""),b.Db(1),b.rc("ngIf",e.islivetran),b.Db(6),b.Oc(" ",b.kc(24,19,"By")," "),b.Db(3),b.Oc(" ",e.orderByName," "),b.Db(3),b.Oc(" ",b.kc(30,21,"Items")," "),b.Db(3),b.Oc(" ",t.getItemCount(e)," "),b.Db(3),b.Oc(" ",b.kc(36,23,"Address")," "),b.Db(3),b.Oc(" ",e.deliveryAddress," "),b.Db(1),b.rc("ngIf",t.ygen.isAdmin()),b.Db(1),b.rc("ngIf",t.ygen.ismobile()&&("COMPLETED"==e.ostatus||"CANCELLED"==e.ostatus)&&e.gateway&&"razorpay"==e.gateway&&e.paymentcaptured&&"PNO"==e.paymentmethod&&"Success"==(null==e.paymentResponse?null:e.paymentResponse.order_status)&&(!e.refundinitiated||0==e.refundinitiated)),b.Db(1),b.rc("ngIf",t.ygen.ismobile()&&e.refundinitiated&&1==e.refundinitiated&&(!e.refunded||1!=e.refunded)&&"PNO"==e.paymentmethod&&"Success"==(null==e.paymentResponse?null:e.paymentResponse.order_status))}}function V(e,n){if(1&e&&(b.Wb(0,"div"),b.Mc(1),b.Kc(2,q,42,25,"ion-card",30),b.Vb()),2&e){const e=n.ngIf,t=b.ic();b.Db(1),b.Oc(" ",t.currentlist(e)," "),b.Db(1),b.rc("ngForOf",e)}}function A(e,n){if(1&e){const e=b.Xb();b.Wb(0,"ion-fab",58,59),b.Wb(2,"ion-fab-button"),b.Rb(3,"ion-icon",60),b.Vb(),b.Wb(4,"ion-fab-list",61),b.Wb(5,"ion-fab-button",62),b.ec("click",(function(){return b.Cc(e),b.ic().openSocial("Vimeo")})),b.Rb(6,"ion-icon",63),b.Vb(),b.Wb(7,"ion-fab-button",64),b.ec("click",(function(){return b.Cc(e),b.ic().openSocial("Instagram")})),b.Rb(8,"ion-icon",65),b.Vb(),b.Wb(9,"ion-fab-button",66),b.ec("click",(function(){return b.Cc(e),b.ic().openSocial("Twitter")})),b.Rb(10,"ion-icon",67),b.Vb(),b.Wb(11,"ion-fab-button",68),b.ec("click",(function(){return b.Cc(e),b.ic().openSocial("Facebook")})),b.Rb(12,"ion-icon",69),b.Vb(),b.Vb(),b.Vb()}}const L=[{path:"",component:(()=>{class e{constructor(e,n,t,r,a,o,i,s,d,p,u,m,b,f,h,g,y){this.modalCtrl=e,this.centerdb=n,this.loadingCtrl=t,this.router=r,this.yalert=a,this.ygen=o,this.ydataservice=i,this.ystorageservice=s,this.ypay=d,this.yds=p,this.ynoti=u,this.excelservice=m,this.events=b,this.yauth=f,this.http=h,this.printservice=g,this.dialog=y,this.queryText="",this.segment="NEW",this.segmenttotal=new Map,this.total=new c.a(0),this.olist=[],this.segmenttotal.set("NEW",{count:0,total:0}),this.segmenttotal.set("INPROCESS",{count:0,total:0}),this.segmenttotal.set("COMPLETED",{count:0,total:0}),this.segmenttotal.set("CANCELLED",{count:0,total:0}),this.centerdb.currenttenant.subscribe(e=>{e&&(this.orderlist=new l.p(l.P.getpath()+"/shop/orders",this.ydataservice.getDatabase(),!0,null),this.setSegmentTotal(),this.myinbox=this.getData(this.segment))})}ngOnInit(){console.log("yeah....ngoninit")}ionViewWillEnter(){console.log("yeah....ion enter")}deleteNotice(e){this.orderlist.removefromList(e)}deleteOrders(e){this.orderlist.getListRefer().remove()}takeAcion(e,n){Object.assign(n,{ostatus:e.value}),this.orderlist.updateList(n),this.yalert.openSnackBar(`Order Status changed for [${n.sendorderid}]`,"Ok"),this.ynoti.orderstatuschange(`Order Status changed to [${e.value}] for [${n.sendorderid}]`,n)}putinprocess(e){Object.assign(e,{ostatus:"INPROCESS"}),this.orderlist.updateList(e),this.ynoti.orderstatuschange(`Order Status changed to [${e.ostatus}] for [${e.sendorderid}]`,e),this.events.publish("shop:alertsubscription",{})}completeorder(e){Object.assign(e,{ostatus:"COMPLETED"}),this.orderlist.updateList(e),this.ynoti.orderstatuschange(`Congratulation you Order Status changed to [${e.ostatus}] for [${e.sendorderid}]`,e)}getItemCount(e){return e.payload?e.payload.length:0}getTitle(e){return e.read?"Mark Unread":"Mark Read"}segmentChanged(e){this.segment=e.detail.value,this.total.next(0),this.myinbox=this.getData(e.detail.value)}getData(e){return this.ygen.isAdmin()?this.getOrders(e):this.getMyOrders(e)}getOrders(e){return"NEW"===e?this.orderlist.getListRefer().snapshotChanges().pipe(Object(d.a)(n=>n.map(e=>Object.assign({$key:e.payload.key},e.payload.val())).filter(n=>n.ostatus==e||!n.ostatus)),Object(d.a)(e=>e.reverse())):this.orderlist.getListRefer().snapshotChanges().pipe(Object(d.a)(n=>n.map(e=>Object.assign({$key:e.payload.key},e.payload.val())).filter(n=>n.ostatus==e)),Object(d.a)(e=>e.reverse()))}getMyOrders(e){return"NEW"===e?this.orderlist.getListRefer().snapshotChanges().pipe(Object(d.a)(n=>n.map(e=>Object.assign({$key:e.payload.key},e.payload.val())).filter(n=>(n.ostatus==e||!n.ostatus)&&n.orderedBy==this.ygen.getUid())),Object(d.a)(e=>e.reverse())):this.orderlist.getListRefer().snapshotChanges().pipe(Object(d.a)(n=>n.map(e=>Object.assign({$key:e.payload.key},e.payload.val())).filter(n=>n.ostatus==e&&n.orderedBy==this.ygen.getUid())),Object(d.a)(e=>e.reverse()))}getTotal(e){let n=0;e.forEach(e=>{n+=e.amount}),this.total.next(n)}setSegmentTotal(){this.orderlist.getListRefer().snapshotChanges().pipe(Object(d.a)(e=>e.map(e=>Object.assign({$key:e.payload.key},e.payload.val())))).subscribe(e=>{this.ygen.orderstatus.forEach(n=>{this.segmenttotal.set(n.value,{count:e.filter(e=>e.ostatus==n.value).length,total:e.filter(e=>e.ostatus==n.value).reduce((e,n)=>e+n.amount,0)})})})}navigate(e,n){console.log()}printOrder(e){this.printservice.printOrder(e);const n=new m.e;n.disableClose=!1,n.autoFocus=!0,n.panelClass="reciept",n.data={message:{orders:e,single:!0}},this.dialog.open(l.B,n).afterClosed().subscribe(e=>{console.log(e)})}printMultipleOrder(e){this.printservice.displayPrintModal(e,!1)}currentlist(e){this.olist=e}assignOrder(e){alert("Function under Development")}print(e){let n="print"+e.sendorderid;this.ygen.isWeb()?this.printservice.print(n,[]):this.printservice.displayPrintModal(e,!0)}printorders(e){this.ygen.isWeb()?this.printservice.print("orderslist",[]):this.printservice.displayPrintModal(e,!1)}printordersjson(){let e=this.orderlist.getListRefer().snapshotChanges().pipe(Object(d.a)(e=>e.map(e=>Object.assign({$key:e.payload.key},e.payload.val())))).subscribe(n=>{let t=[],r="";n.forEach(e=>{let n={orderid:e.sendorderid,amount:e.amount,paymentmethod:e.paymentmethod,deliveryAddress:e.deliveryAddress,zipcode:e.zipcode?e.zipcode:"",city:e.city?e.city:"",name:e.orderByName,phone:"'"+e.orderByPhone+"'",orderstatus:e.ostatus,dateoforder:this.ygen.formatTimestampToDate(e.odt),orderitems:this.getpayload(e.payload),paymentstatus:this.paymentdone(e),payment_id:this.paymentid(e)};r+="<div></div><div>",t.push(n)}),0==t.length?this.yalert.openSnackBar("No orders for downlowd","Ok"):u({printable:t,type:"json",properties:Object.keys(t[0])}),e.unsubscribe()})}downloadOrders(){let e=this.orderlist.getListRefer().snapshotChanges().pipe(Object(d.a)(e=>e.map(e=>Object.assign({$key:e.payload.key},e.payload.val())))).subscribe(n=>{let t=[];n.forEach(e=>{let n={orderid:e.sendorderid,amount:e.amount,paymentmethod:e.paymentmethod,deliveryAddress:e.deliveryAddress,zipcode:e.zipcode?e.zipcode:"",city:e.city?e.city:"",name:e.orderByName,phone:"'"+e.orderByPhone+"'",orderstatus:e.ostatus,dateoforder:this.ygen.formatTimestampToDate(e.odt),orderitems:this.getpayload(e.payload),paymentstatus:this.paymentdone(e),payment_id:this.paymentid(e)};t.push(n)}),0==t.length?this.yalert.openSnackBar("No orders for downlowd","Ok"):(this.excelservice.exportAsExcelFile(t,"orders"),this.yalert.openSnackBar("Orders will be downloaded...","Ok")),e.unsubscribe()})}getpayload(e){let n="";return e.forEach(e=>{n+=e.title,e.description.length>0&&(n=n+NaN+e.description),n=n+"| Rs="+e.price+"| Total Items=["+e.orderqty+"] ||"}),n}paymentdone(e){let n="NOT PAID";return e.paymentResponse&&"Success"==e.paymentResponse.order_status&&(n="PAID"),n}paymentid(e){let n="";return e.paymentResponse&&(n=e.paymentResponse.payment_id),n}openSocial(e){return Object(s.a)(this,void 0,void 0,(function*(){const n=yield this.loadingCtrl.create({message:`Posting to ${e}`,duration:1e3*Math.random()+500});yield n.present(),yield n.onWillDismiss()}))}getstatus(e,n){let t=[];return t[0]=e[1],t[1]=e[2],t[2]=e[3],"INPROCESS"==n?t:e}refundOrder(e){let n=e.key,t=this.yauth.getappSettings(),r=t.testonlinepay;t.testonlinepay||(r=!1);let a=`${l.s.herobackendserver}/rest/razor/dispute?testmode=${r}&paymentid=${e.paymentResponse.payment_id}`,o={amount:100*e.amount};const i={headers:new p.d({"Content-Type":"application/json",Authorization:"yoyo"})};this.http.post(a,o,i).pipe().subscribe(e=>{let t={refundinitiated:!0,refundetail:e};console.log("capture payment",e),e.err?this.yalert.errordata("Request did not go through"):(this.orderlist.getListRefer().update(n,t),this.yalert.successdata("Refund initiated"))},e=>{this.yalert.errordata("Request did not go through"),this.orderlist.getListRefer().update(n,{refundinitiated:!1,refundetail:{message:"failed"}})})}checkRefundOrder(e){let n=e.key,t=this.yauth.getappSettings(),r=t.testonlinepay;t.testonlinepay||(r=!1);let a=`${l.s.herobackendserver}/rest/razor/checkdispute?testmode=${r}&paymentid=${e.paymentResponse.payment_id}&refundid=${e.refundetail.id}`;const o={headers:new p.d({"Content-Type":"application/json",Authorization:"yoyo"})};e.refunded?this.yalert.openSnackBar("Already Refunded","Ok"):(this.yalert.openSnackBar("Request is processing","please wait"),this.http.get(a,o).pipe().subscribe(e=>{let t={refunded:!!e.receipt};e.receipt&&(t.refunded_receipt=e.receipt),e.err?this.yalert.errordata("Request did not go through"):(this.orderlist.getListRefer().update(n,t),this.yalert.successdata(e.receipt?"Refunded":"Refund in progress"))},e=>{this.yalert.errordata("Request did not go through")}))}}return e.\u0275fac=function(n){return new(n||e)(b.Qb(i.mb),b.Qb(l.P),b.Qb(i.kb),b.Qb(o.j),b.Qb(l.a),b.Qb(l.T),b.Qb(l.Q),b.Qb(l.db),b.Qb(l.Z),b.Qb(l.R),b.Qb(l.U),b.Qb(l.r),b.Qb(l.Y),b.Qb(l.M),b.Qb(p.b),b.Qb(l.C),b.Qb(m.b))},e.\u0275cmp=b.Kb({type:e,selectors:[["app-ordermanagement"]],viewQuery:function(e,n){var t;1&e&&b.Hc(g,!0),2&e&&b.yc(t=b.fc())&&(n.ele=t.first)},decls:57,vars:38,consts:[[3,"color"],["slot","start"],["slot","end","color","secondary"],[3,"icon","askquestion","icontext","isiconwithtext","actionEvent",4,"ngIf"],["class","download","color","danger",3,"click",4,"ngIf"],[3,"click"],["slot","icon-only","name","search"],[3,"ngModel","ngModelChange","ionChange"],["value","NEW"],["color","danger"],["value","INPROCESS"],["color","dark"],["value","COMPLETED"],["color","success"],["value","CANCELLED"],["color","tertiary"],[3,"color",4,"ngIf"],["padding",""],["id","orderslist"],["orderslist",""],["loading",""],[4,"ngIf","ngIfElse"],["slot","fixed","vertical","bottom","horizontal","end",4,"ngIf"],[1,"footerCartSection"],[2,"font-size","smaller","margin-top","30px",3,"click"],[3,"icon","askquestion","icontext","isiconwithtext","actionEvent"],["color","danger",1,"download",3,"click"],["slot","icon-only","name","code-download"],[3,"ngModel","placeholder","ngModelChange"],["type","indeterminate","reversed","true"],[4,"ngFor","ngForOf"],[3,"id"],["class","paySection",4,"ngIf"],[3,"ngClass",4,"ngIf"],["class","codSection",4,"ngIf"],["aria-label","Fish selection"],["color","primary","selected",""],["color","accent","selected",""],[4,"ngIf"],[1,"contentorder"],[1,"labelt"],[1,"valuet"],["style","--ion-background-color: rgba(233, 28, 28, 0.527);",4,"ngIf"],[1,"paySection"],["text-uppercase","",1,"sc-ion-label-md-h","sc-ion-label-md-s","hydrated"],[3,"ngClass"],["text-uppercase","","class","sc-ion-label-md-h sc-ion-label-md-s hydrated",4,"ngIf"],[1,"codSection"],[2,"display","flex","flex-wrap","wrap","align-items","center","justify-content","space-evenly"],[3,"currentvalue","orderstatus","actionEvent"],[2,"padding","5px"],[3,"mobile"],[3,"icon","color","askquestion","icontext","isiconwithtext","actionEvent"],[2,"--ion-background-color","rgba(233, 28, 28, 0.527)"],[1,"refundSection"],["icon","assignment_return","title","Initiate Refund","message","Refund",3,"actionEvent"],[2,"width","100%","display","flex","align-items","center","justify-content","center"],[3,"color","icon","askquestion","icontext","askquestiontext","isiconwithtext","actionEvent"],["slot","fixed","vertical","bottom","horizontal","end"],["fab",""],["name","glasses-outline"],["side","top"],["color","success",3,"click"],["name","logo-whatsapp"],["color","instagram",3,"click"],["name","bar-chart-outline"],["color","twitter",3,"click"],["name","calendar-outline"],["color","facebook",3,"click"],["name","today-outline"]],template:function(e,n){if(1&e&&(b.Wb(0,"ion-header"),b.Wb(1,"ion-toolbar",0),b.Wb(2,"ion-buttons",1),b.Rb(3,"ion-back-button"),b.Vb(),b.Wb(4,"ion-title"),b.Mc(5),b.jc(6,"translate"),b.Vb(),b.Wb(7,"ion-buttons",2),b.Kc(8,y,1,4,"app-appicon",3),b.Kc(9,_,2,0,"ion-button",4),b.Wb(10,"ion-button",5),b.ec("click",(function(){return n.ygen.routeto("searchorder",{})})),b.Rb(11,"ion-icon",6),b.Vb(),b.Vb(),b.Vb(),b.Vb(),b.Wb(12,"ion-header"),b.Wb(13,"ion-toolbar",0),b.Wb(14,"ion-segment",7),b.ec("ngModelChange",(function(e){return n.segment=e}))("ionChange",(function(e){return n.segmentChanged(e)})),b.Wb(15,"ion-segment-button",8),b.Mc(16),b.jc(17,"translate"),b.Wb(18,"ion-badge",9),b.Mc(19),b.Vb(),b.Vb(),b.Wb(20,"ion-segment-button",10),b.Mc(21),b.jc(22,"translate"),b.Wb(23,"ion-badge",11),b.Mc(24),b.Vb(),b.Vb(),b.Wb(25,"ion-segment-button",12),b.Mc(26),b.jc(27,"translate"),b.Wb(28,"ion-badge",13),b.Mc(29),b.Vb(),b.Vb(),b.Wb(30,"ion-segment-button",14),b.Mc(31),b.jc(32,"translate"),b.Wb(33,"ion-badge",15),b.Mc(34),b.Vb(),b.Vb(),b.Vb(),b.Vb(),b.Kc(35,v,3,5,"ion-toolbar",16),b.Vb(),b.Wb(36,"ion-content",17),b.Wb(37,"div",18,19),b.Kc(39,j,2,2,"ng-template",null,20,b.Lc),b.Kc(41,V,3,2,"div",21),b.jc(42,"async"),b.Kc(43,A,13,0,"ion-fab",22),b.Vb(),b.Vb(),b.Wb(44,"ion-footer"),b.Wb(45,"ion-toolbar"),b.Wb(46,"div",23),b.Wb(47,"ion-text"),b.Wb(48,"h3"),b.Mc(49),b.jc(50,"translate"),b.Vb(),b.Vb(),b.Wb(51,"div",24),b.ec("click",(function(){return n.printorders(n.olist)})),b.Mc(52),b.jc(53,"translate"),b.Vb(),b.Wb(54,"ion-text"),b.Wb(55,"h3"),b.Mc(56),b.Vb(),b.Vb(),b.Vb(),b.Vb(),b.Vb()),2&e){const e=b.zc(40);b.Db(1),b.rc("color","warning"),b.Db(4),b.Nc(b.kc(6,22,"Order Management")),b.Db(3),b.rc("ngIf",n.ygen.isSuperAdmin()),b.Db(1),b.rc("ngIf",n.ygen.isAdmin()),b.Db(4),b.rc("color","warning"),b.Db(1),b.rc("ngModel",n.segment),b.Db(2),b.Oc(" ",b.kc(17,24,"New"),""),b.Db(3),b.Nc(n.segmenttotal.get("NEW").count),b.Db(2),b.Oc(" ",b.kc(22,26,"InProcess"),""),b.Db(3),b.Nc(n.segmenttotal.get("INPROCESS").count),b.Db(2),b.Oc(" ",b.kc(27,28,"Completed"),""),b.Db(3),b.Nc(n.segmenttotal.get("COMPLETED").count),b.Db(2),b.Oc(" ",b.kc(32,30,"Cancelled"),""),b.Db(3),b.Nc(n.segmenttotal.get("CANCELLED").count),b.Db(1),b.rc("ngIf",0),b.Db(6),b.rc("ngIf",b.kc(42,32,n.myinbox))("ngIfElse",e),b.Db(2),b.rc("ngIf",!1),b.Db(6),b.Nc(b.kc(50,34,"Total")),b.Db(3),b.Nc(b.kc(53,36,"Print")),b.Db(4),b.Pc(" ",n.ygen.getcurrencysymbol()," ",n.segmenttotal.get(n.segment).total.toFixed(2)," ")}},directives:[i.y,i.hb,i.j,i.f,i.g,i.fb,r.m,i.i,i.z,i.T,i.tb,a.p,a.s,i.U,i.h,i.s,i.w,i.cb,l.f,i.S,i.ub,i.P,r.l,i.k,i.m,i.n,i.o,f.b,f.a,i.l,i.J,r.k,i.D,l.c,l.j,l.e,i.t,i.u,i.v],pipes:[h.c,r.b],styles:[".otitle[_ngcontent-%COMP%]{font-size:14px}.orderid[_ngcontent-%COMP%]{font-size:10px}.orderamt[_ngcontent-%COMP%]{font-size:18px}ion-card-header[_ngcontent-%COMP%]{padding-bottom:0}tbody[_ngcontent-%COMP%]{font-size:small}.labelt[_ngcontent-%COMP%]{font-weight:lighter}.valuet[_ngcontent-%COMP%]{padding-left:10px}ion-card-content[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0}.footerCartSection[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-right:10px;margin-left:10px}.refundSection[_ngcontent-%COMP%]{color:#fff;display:flex;justify-content:center;width:100%}.refundDoneSection[_ngcontent-%COMP%]{background:rgba(233,28,28,.527);color:#fff;position:absolute;padding:6px 16px;border-radius:5px;font-weight:700;right:10px}.refundDoneCheckSection[_ngcontent-%COMP%]{background:#7310f5}.paySection[_ngcontent-%COMP%]{background:#15bf15}.codSection[_ngcontent-%COMP%], .paySection[_ngcontent-%COMP%]{color:#fff;position:absolute;padding:6px 16px;border-radius:5px;font-weight:700;right:10px}.codSection[_ngcontent-%COMP%]{background:#de66cf}ion-card-title[_ngcontent-%COMP%]{padding-bottom:0;background:#f5fffa}.download[_ngcontent-%COMP%]{font-size:30px;font-weight:700}ion-fab-button[_ngcontent-%COMP%]{--background:var(--ion-color-step-150,#fff);--background-hover:var(--ion-color-step-200,#f2f2f2);--background-focused:var(--ion-color-step-250,#d9d9d9);--color:var(--ion-color-primary,#3880ff)}.ios[_ngcontent-%COMP%]   ion-fab-button[_ngcontent-%COMP%]{--background-activated:var(--ion-color-step-250,#d9d9d9)}"]}),e})()}];let N=(()=>{class e{}return e.\u0275mod=b.Ob({type:e}),e.\u0275inj=b.Nb({factory:function(n){return new(n||e)},imports:[[r.c,a.j,i.ib,l.H,l.o,l.b,o.n.forChild(L)]]}),e})()},rdXg:function(module,exports,__webpack_require__){var factory;window,factory=function(){return function(e){var n={};function t(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,t),a.l=!0,a.exports}return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var a in e)t.d(r,a,(function(n){return e[n]}).bind(null,a));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=0)}({"./src/index.js":function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\n__webpack_require__(/*! ./sass/index.scss */ "./src/sass/index.scss");\n\nvar _init = __webpack_require__(/*! ./js/init */ "./src/js/init.js");\n\nvar _init2 = _interopRequireDefault(_init);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar printJS = _init2.default.init;\n\nif (typeof window !== \'undefined\') {\n  window.printJS = printJS;\n}\n\nexports.default = printJS;\n\n//# sourceURL=webpack://printJS/./src/index.js?')},"./src/js/browser.js":function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar Browser = {\n  // Firefox 1.0+\n  isFirefox: function isFirefox() {\n    return typeof InstallTrigger !== 'undefined';\n  },\n  // Internet Explorer 6-11\n  isIE: function isIE() {\n    return navigator.userAgent.indexOf('MSIE') !== -1 || !!document.documentMode;\n  },\n  // Edge 20+\n  isEdge: function isEdge() {\n    return !Browser.isIE() && !!window.StyleMedia;\n  },\n  // Chrome 1+\n  isChrome: function isChrome() {\n    var context = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : window;\n\n    return !!context.chrome;\n  },\n  // At least Safari 3+: \"[object HTMLElementConstructor]\"\n  isSafari: function isSafari() {\n    return Object.prototype.toString.call(window.HTMLElement).indexOf('Constructor') > 0 || navigator.userAgent.toLowerCase().indexOf('safari') !== -1;\n  },\n  // IOS Chrome\n  isIOSChrome: function isIOSChrome() {\n    return navigator.userAgent.toLowerCase().indexOf('crios') !== -1;\n  }\n};\n\nexports.default = Browser;\n\n//# sourceURL=webpack://printJS/./src/js/browser.js?")},"./src/js/functions.js":function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.addWrapper = addWrapper;\nexports.capitalizePrint = capitalizePrint;\nexports.collectStyles = collectStyles;\nexports.addHeader = addHeader;\nexports.cleanUp = cleanUp;\nexports.isRawHTML = isRawHTML;\n\nvar _modal = __webpack_require__(/*! ./modal */ \"./src/js/modal.js\");\n\nvar _modal2 = _interopRequireDefault(_modal);\n\nvar _browser = __webpack_require__(/*! ./browser */ \"./src/js/browser.js\");\n\nvar _browser2 = _interopRequireDefault(_browser);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction addWrapper(htmlData, params) {\n  var bodyStyle = 'font-family:' + params.font + ' !important; font-size: ' + params.font_size + ' !important; width:100%;';\n  return '<div style=\"' + bodyStyle + '\">' + htmlData + '</div>';\n}\n\nfunction capitalizePrint(obj) {\n  return obj.charAt(0).toUpperCase() + obj.slice(1);\n}\n\nfunction collectStyles(element, params) {\n  var win = document.defaultView || window;\n\n  // String variable to hold styling for each element\n  var elementStyle = '';\n\n  // Loop over computed styles\n  var styles = win.getComputedStyle(element, '');\n\n  Object.keys(styles).map(function (key) {\n    // Check if style should be processed\n    if (params.targetStyles.indexOf('*') !== -1 || params.targetStyle.indexOf(styles[key]) !== -1 || targetStylesMatch(params.targetStyles, styles[key])) {\n      if (styles.getPropertyValue(styles[key])) elementStyle += styles[key] + ':' + styles.getPropertyValue(styles[key]) + ';';\n    }\n  });\n\n  // Print friendly defaults (deprecated)\n  elementStyle += 'max-width: ' + params.maxWidth + 'px !important;' + params.font_size + ' !important;';\n\n  return elementStyle;\n}\n\nfunction targetStylesMatch(styles, value) {\n  for (var i = 0; i < styles.length; i++) {\n    if ((typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' && value.indexOf(styles[i]) !== -1) return true;\n  }\n  return false;\n}\n\nfunction addHeader(printElement, params) {\n  // Create the header container div\n  var headerContainer = document.createElement('div');\n\n  // Check if the header is text or raw html\n  if (isRawHTML(params.header)) {\n    headerContainer.innerHTML = params.header;\n  } else {\n    // Create header element\n    var headerElement = document.createElement('h1');\n\n    // Create header text node\n    var headerNode = document.createTextNode(params.header);\n\n    // Build and style\n    headerElement.appendChild(headerNode);\n    headerElement.setAttribute('style', params.headerStyle);\n    headerContainer.appendChild(headerElement);\n  }\n\n  printElement.insertBefore(headerContainer, printElement.childNodes[0]);\n}\n\nfunction cleanUp(params) {\n  // If we are showing a feedback message to user, remove it\n  if (params.showModal) _modal2.default.close();\n\n  // Check for a finished loading hook function\n  if (params.onLoadingEnd) params.onLoadingEnd();\n\n  // If preloading pdf files, clean blob url\n  if (params.showModal || params.onLoadingStart) window.URL.revokeObjectURL(params.printable);\n\n  // If a onPrintDialogClose callback is given, execute it\n  if (params.onPrintDialogClose) {\n    var event = 'mouseover';\n\n    if (_browser2.default.isChrome() || _browser2.default.isFirefox()) {\n      // Ps.: Firefox will require an extra click in the document to fire the focus event.\n      event = 'focus';\n    }\n    var handler = function handler() {\n      // Make sure the event only happens once.\n      window.removeEventListener(event, handler);\n\n      params.onPrintDialogClose();\n    };\n\n    window.addEventListener(event, handler);\n  }\n}\n\nfunction isRawHTML(raw) {\n  var regexHtml = new RegExp('<([A-Za-z][A-Za-z0-9]*)\\\\b[^>]*>(.*?)</\\\\1>');\n  return regexHtml.test(raw);\n}\n\n//# sourceURL=webpack://printJS/./src/js/functions.js?")},"./src/js/html.js":function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _functions = __webpack_require__(/*! ./functions */ \"./src/js/functions.js\");\n\nvar _print = __webpack_require__(/*! ./print */ \"./src/js/print.js\");\n\nvar _print2 = _interopRequireDefault(_print);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  print: function print(params, printFrame) {\n    // Get the DOM printable element\n    var printElement = document.getElementById(params.printable);\n\n    // Check if the element exists\n    if (!printElement) {\n      window.console.error('Invalid HTML element id: ' + params.printable);\n      return;\n    }\n\n    // Clone the target element including its children (if available)\n    params.printableElement = cloneElement(printElement, params);\n\n    // Add header\n    if (params.header) {\n      (0, _functions.addHeader)(params.printableElement, params);\n    }\n\n    // Print html element contents\n    _print2.default.send(params, printFrame);\n  }\n};\n\n\nfunction cloneElement(element, params) {\n  // Clone the main node (if not already inside the recursion process)\n  var clone = element.cloneNode();\n\n  // Loop over and process the children elements / nodes (including text nodes)\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = element.childNodes[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var child = _step.value;\n\n      // Check if we are skiping the current element\n      if (params.ignoreElements.indexOf(child.id) !== -1) {\n        continue;\n      }\n\n      // Clone the child element\n      var clonedChild = cloneElement(child, params);\n\n      // Attach the cloned child to the cloned parent node\n      clone.appendChild(clonedChild);\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  console.log(element.nodeType);\n  // Get all styling for print element (for nodes of type element only)\n  if (params.scanStyles && element.nodeType === 1) {\n    clone.setAttribute('style', (0, _functions.collectStyles)(element, params));\n  }\n\n  // Check if the element needs any state processing (copy user input data)\n  switch (element.tagName) {\n    case 'SELECT':\n      // Copy the current selection value to its clone\n      clone.value = element.value;\n      break;\n    case 'CANVAS':\n      // Copy the canvas content to its clone\n      clone.getContext('2d').drawImage(element, 0, 0);\n      break;\n  }\n\n  return clone;\n}\n\n//# sourceURL=webpack://printJS/./src/js/html.js?")},"./src/js/image.js":function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _functions = __webpack_require__(/*! ./functions */ \"./src/js/functions.js\");\n\nvar _print = __webpack_require__(/*! ./print */ \"./src/js/print.js\");\n\nvar _print2 = _interopRequireDefault(_print);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  print: function print(params, printFrame) {\n    // Check if we are printing one image or multiple images\n    if (params.printable.constructor !== Array) {\n      // Create array with one image\n      params.printable = [params.printable];\n    }\n\n    // Create printable element (container)\n    params.printableElement = document.createElement('div');\n\n    // Create all image elements and append them to the printable container\n    params.printable.forEach(function (src) {\n      // Create the image element\n      var img = document.createElement('img');\n      img.setAttribute('style', params.imageStyle);\n\n      // Set image src with the file url\n      img.src = src;\n\n      // Create the image wrapper\n      var imageWrapper = document.createElement('div');\n\n      // Append image to the wrapper element\n      imageWrapper.appendChild(img);\n\n      // Append wrapper to the printable element\n      params.printableElement.appendChild(imageWrapper);\n    });\n\n    // Check if we are adding a print header\n    if (params.header) (0, _functions.addHeader)(params.printableElement, params);\n\n    // Print image\n    _print2.default.send(params, printFrame);\n  }\n};\n\n//# sourceURL=webpack://printJS/./src/js/image.js?")},"./src/js/init.js":function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _browser = __webpack_require__(/*! ./browser */ \"./src/js/browser.js\");\n\nvar _browser2 = _interopRequireDefault(_browser);\n\nvar _modal = __webpack_require__(/*! ./modal */ \"./src/js/modal.js\");\n\nvar _modal2 = _interopRequireDefault(_modal);\n\nvar _pdf = __webpack_require__(/*! ./pdf */ \"./src/js/pdf.js\");\n\nvar _pdf2 = _interopRequireDefault(_pdf);\n\nvar _html = __webpack_require__(/*! ./html */ \"./src/js/html.js\");\n\nvar _html2 = _interopRequireDefault(_html);\n\nvar _rawHtml = __webpack_require__(/*! ./raw-html */ \"./src/js/raw-html.js\");\n\nvar _rawHtml2 = _interopRequireDefault(_rawHtml);\n\nvar _image = __webpack_require__(/*! ./image */ \"./src/js/image.js\");\n\nvar _image2 = _interopRequireDefault(_image);\n\nvar _json = __webpack_require__(/*! ./json */ \"./src/js/json.js\");\n\nvar _json2 = _interopRequireDefault(_json);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar printTypes = ['pdf', 'html', 'image', 'json', 'raw-html'];\n\nexports.default = {\n  init: function init() {\n    var params = {\n      printable: null,\n      fallbackPrintable: null,\n      type: 'pdf',\n      header: null,\n      headerStyle: 'font-weight: 300;',\n      maxWidth: 800,\n      font: 'TimesNewRoman',\n      font_size: '12pt',\n      honorMarginPadding: true,\n      honorColor: false,\n      properties: null,\n      gridHeaderStyle: 'font-weight: bold; padding: 5px; border: 1px solid #dddddd;',\n      gridStyle: 'border: 1px solid lightgray; margin-bottom: -1px;',\n      showModal: false,\n      onError: function onError(error) {\n        throw error;\n      },\n      onLoadingStart: null,\n      onLoadingEnd: null,\n      onPrintDialogClose: null,\n      onPdfOpen: null,\n      onBrowserIncompatible: function onBrowserIncompatible() {\n        return true;\n      },\n      modalMessage: 'Retrieving Document...',\n      frameId: 'printJS',\n      printableElement: null,\n      documentTitle: 'Document',\n      targetStyle: ['clear', 'display', 'width', 'min-width', 'height', 'min-height', 'max-height'],\n      targetStyles: ['border', 'box', 'break', 'text-decoration'],\n      ignoreElements: [],\n      imageStyle: 'max-width: 100%;',\n      repeatTableHeader: true,\n      css: null,\n      style: null,\n      scanStyles: true,\n      base64: false\n\n      // Check if a printable document or object was supplied\n    };var args = arguments[0];\n    if (args === undefined) throw new Error('printJS expects at least 1 attribute.');\n\n    // Process parameters\n    switch (typeof args === 'undefined' ? 'undefined' : _typeof(args)) {\n      case 'string':\n        params.printable = encodeURI(args);\n        params.fallbackPrintable = params.printable;\n        params.type = arguments[1] || params.type;\n        break;\n      case 'object':\n        params.printable = args.printable;\n        params.base64 = typeof args.base64 !== 'undefined';\n        params.fallbackPrintable = typeof args.fallbackPrintable !== 'undefined' ? args.fallbackPrintable : params.printable;\n        params.fallbackPrintable = params.base64 ? 'data:application/pdf;base64,' + params.fallbackPrintable : params.fallbackPrintable;\n        for (var k in params) {\n          if (k === 'printable' || k === 'fallbackPrintable' || k === 'base64') continue;\n\n          params[k] = typeof args[k] !== 'undefined' ? args[k] : params[k];\n        }\n        break;\n      default:\n        throw new Error('Unexpected argument type! Expected \"string\" or \"object\", got ' + (typeof args === 'undefined' ? 'undefined' : _typeof(args)));\n    }\n\n    // Validate printable\n    if (!params.printable) throw new Error('Missing printable information.');\n\n    // Validate type\n    if (!params.type || typeof params.type !== 'string' || printTypes.indexOf(params.type.toLowerCase()) === -1) {\n      throw new Error('Invalid print type. Available types are: pdf, html, image and json.');\n    }\n\n    // Check if we are showing a feedback message to the user (useful for large files)\n    if (params.showModal) _modal2.default.show(params);\n\n    // Check for a print start hook function\n    if (params.onLoadingStart) params.onLoadingStart();\n\n    // To prevent duplication and issues, remove any used printFrame from the DOM\n    var usedFrame = document.getElementById(params.frameId);\n\n    if (usedFrame) usedFrame.parentNode.removeChild(usedFrame);\n\n    // Create a new iframe or embed element (IE prints blank pdf's if we use iframe)\n    var printFrame = void 0;\n\n    // Create iframe element\n    printFrame = document.createElement('iframe');\n\n    // Hide iframe\n    printFrame.setAttribute('style', 'visibility: hidden; height: 0; width: 0; position: absolute;');\n\n    // Set iframe element id\n    printFrame.setAttribute('id', params.frameId);\n\n    // For non pdf printing, pass an html document string to srcdoc (force onload callback)\n    if (params.type !== 'pdf') {\n      printFrame.srcdoc = '<html><head><title>' + params.documentTitle + '</title>';\n\n      // Attach css files\n      if (params.css) {\n        // Add support for single file\n        if (!Array.isArray(params.css)) params.css = [params.css];\n\n        // Create link tags for each css file\n        params.css.forEach(function (file) {\n          printFrame.srcdoc += '<link rel=\"stylesheet\" href=\"' + file + '\">';\n        });\n      }\n\n      printFrame.srcdoc += '</head><body></body></html>';\n    }\n\n    // Check printable type\n    switch (params.type) {\n      case 'pdf':\n        // Check browser support for pdf and if not supported we will just open the pdf file instead\n        if (_browser2.default.isFirefox() || _browser2.default.isEdge() || _browser2.default.isIE()) {\n          try {\n            console.info('PrintJS currently doesn\\'t support PDF printing in Firefox, Internet Explorer and Edge.');\n            if (params.onBrowserIncompatible() === true) {\n              var win = window.open(params.fallbackPrintable, '_blank');\n              win.focus();\n              if (params.onPdfOpen) params.onPdfOpen();\n            }\n          } catch (e) {\n            params.onError(e);\n          } finally {\n            // Make sure there is no loading modal opened\n            if (params.showModal) _modal2.default.close();\n            if (params.onLoadingEnd) params.onLoadingEnd();\n          }\n        } else {\n          _pdf2.default.print(params, printFrame);\n        }\n        break;\n      case 'image':\n        _image2.default.print(params, printFrame);\n        break;\n      case 'html':\n        _html2.default.print(params, printFrame);\n        break;\n      case 'raw-html':\n        _rawHtml2.default.print(params, printFrame);\n        break;\n      case 'json':\n        _json2.default.print(params, printFrame);\n        break;\n    }\n  }\n};\n\n//# sourceURL=webpack://printJS/./src/js/init.js?")},"./src/js/json.js":function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _functions = __webpack_require__(/*! ./functions */ \"./src/js/functions.js\");\n\nvar _print = __webpack_require__(/*! ./print */ \"./src/js/print.js\");\n\nvar _print2 = _interopRequireDefault(_print);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  print: function print(params, printFrame) {\n    // Check if we received proper data\n    if (_typeof(params.printable) !== 'object') {\n      throw new Error('Invalid javascript data object (JSON).');\n    }\n\n    // Validate repeatTableHeader\n    if (typeof params.repeatTableHeader !== 'boolean') {\n      throw new Error('Invalid value for repeatTableHeader attribute (JSON).');\n    }\n\n    // Validate properties\n    if (!params.properties || !Array.isArray(params.properties)) {\n      throw new Error('Invalid properties array for your JSON data.');\n    }\n\n    // We will format the property objects to keep the JSON api compatible with older releases\n    params.properties = params.properties.map(function (property) {\n      return {\n        field: (typeof property === 'undefined' ? 'undefined' : _typeof(property)) === 'object' ? property.field : property,\n        displayName: (typeof property === 'undefined' ? 'undefined' : _typeof(property)) === 'object' ? property.displayName : property,\n        columnSize: (typeof property === 'undefined' ? 'undefined' : _typeof(property)) === 'object' && property.columnSize ? property.columnSize + ';' : 100 / params.properties.length + '%;'\n      };\n    });\n\n    // Create a print container element\n    params.printableElement = document.createElement('div');\n\n    // Check if we are adding a print header\n    if (params.header) {\n      (0, _functions.addHeader)(params.printableElement, params);\n    }\n\n    // Build the printable html data\n    params.printableElement.innerHTML += jsonToHTML(params);\n\n    // Print the json data\n    _print2.default.send(params, printFrame);\n  }\n};\n\n\nfunction jsonToHTML(params) {\n  // Get the row and column data\n  var data = params.printable;\n  var properties = params.properties;\n\n  // Create a html table\n  var htmlData = '<table style=\"border-collapse: collapse; width: 100%;\">';\n\n  // Check if the header should be repeated\n  if (params.repeatTableHeader) {\n    htmlData += '<thead>';\n  }\n\n  // Add the table header row\n  htmlData += '<tr>';\n\n  // Add the table header columns\n  for (var a = 0; a < properties.length; a++) {\n    htmlData += '<th style=\"width:' + properties[a].columnSize + ';' + params.gridHeaderStyle + '\">' + (0, _functions.capitalizePrint)(properties[a].displayName) + '</th>';\n  }\n\n  // Add the closing tag for the table header row\n  htmlData += '</tr>';\n\n  // If the table header is marked as repeated, add the closing tag\n  if (params.repeatTableHeader) {\n    htmlData += '</thead>';\n  }\n\n  // Create the table body\n  htmlData += '<tbody>';\n\n  // Add the table data rows\n  for (var i = 0; i < data.length; i++) {\n    // Add the row starting tag\n    htmlData += '<tr>';\n\n    // Print selected properties only\n    for (var n = 0; n < properties.length; n++) {\n      var stringData = data[i];\n\n      // Support nested objects\n      var property = properties[n].field.split('.');\n      if (property.length > 1) {\n        for (var p = 0; p < property.length; p++) {\n          stringData = stringData[property[p]];\n        }\n      } else {\n        stringData = stringData[properties[n].field];\n      }\n\n      // Add the row contents and styles\n      htmlData += '<td style=\"width:' + properties[n].columnSize + params.gridStyle + '\">' + stringData + '</td>';\n    }\n\n    // Add the row closing tag\n    htmlData += '</tr>';\n  }\n\n  // Add the table and body closing tags\n  htmlData += '</tbody></table>';\n\n  return htmlData;\n}\n\n//# sourceURL=webpack://printJS/./src/js/json.js?")},"./src/js/modal.js":function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar Modal = {\n  show: function show(params) {\n    // Build modal\n    var modalStyle = 'font-family:sans-serif; ' + 'display:table; ' + 'text-align:center; ' + 'font-weight:300; ' + 'font-size:30px; ' + 'left:0; top:0;' + 'position:fixed; ' + 'z-index: 9990;' + 'color: #0460B5; ' + 'width: 100%; ' + 'height: 100%; ' + 'background-color:rgba(255,255,255,.9);' + 'transition: opacity .3s ease;';\n\n    // Create wrapper\n    var printModal = document.createElement('div');\n    printModal.setAttribute('style', modalStyle);\n    printModal.setAttribute('id', 'printJS-Modal');\n\n    // Create content div\n    var contentDiv = document.createElement('div');\n    contentDiv.setAttribute('style', 'display:table-cell; vertical-align:middle; padding-bottom:100px;');\n\n    // Add close button (requires print.css)\n    var closeButton = document.createElement('div');\n    closeButton.setAttribute('class', 'printClose');\n    closeButton.setAttribute('id', 'printClose');\n    contentDiv.appendChild(closeButton);\n\n    // Add spinner (requires print.css)\n    var spinner = document.createElement('span');\n    spinner.setAttribute('class', 'printSpinner');\n    contentDiv.appendChild(spinner);\n\n    // Add message\n    var messageNode = document.createTextNode(params.modalMessage);\n    contentDiv.appendChild(messageNode);\n\n    // Add contentDiv to printModal\n    printModal.appendChild(contentDiv);\n\n    // Append print modal element to document body\n    document.getElementsByTagName('body')[0].appendChild(printModal);\n\n    // Add event listener to close button\n    document.getElementById('printClose').addEventListener('click', function () {\n      Modal.close();\n    });\n  },\n  close: function close() {\n    var printFrame = document.getElementById('printJS-Modal');\n\n    printFrame.parentNode.removeChild(printFrame);\n  }\n};\n\nexports.default = Modal;\n\n//# sourceURL=webpack://printJS/./src/js/modal.js?")},"./src/js/pdf.js":function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _print = __webpack_require__(/*! ./print */ \"./src/js/print.js\");\n\nvar _print2 = _interopRequireDefault(_print);\n\nvar _functions = __webpack_require__(/*! ./functions */ \"./src/js/functions.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  print: function print(params, printFrame) {\n    // Check if we have base64 data\n    if (params.base64) {\n      var bytesArray = Uint8Array.from(atob(params.printable), function (c) {\n        return c.charCodeAt(0);\n      });\n      createBlobAndPrint(params, printFrame, bytesArray);\n      return;\n    }\n\n    // Format pdf url\n    params.printable = /^(blob|http)/i.test(params.printable) ? params.printable : window.location.origin + (params.printable.charAt(0) !== '/' ? '/' + params.printable : params.printable);\n\n    // Get the file through a http request (Preload)\n    var req = new window.XMLHttpRequest();\n    req.responseType = 'arraybuffer';\n\n    req.addEventListener('load', function () {\n      // Check for errors\n      if ([200, 201].indexOf(req.status) === -1) {\n        (0, _functions.cleanUp)(params);\n        params.onError(req.statusText);\n\n        // Since we don't have a pdf document available, we will stop the print job\n        return;\n      }\n\n      // Print requested document\n      createBlobAndPrint(params, printFrame, req.response);\n    });\n\n    req.open('GET', params.printable, true);\n    req.send();\n  }\n};\n\n\nfunction createBlobAndPrint(params, printFrame, data) {\n  // Pass response or base64 data to a blob and create a local object url\n  var localPdf = new window.Blob([data], { type: 'application/pdf' });\n  localPdf = window.URL.createObjectURL(localPdf);\n\n  // Set iframe src with pdf document url\n  printFrame.setAttribute('src', localPdf);\n\n  _print2.default.send(params, printFrame);\n}\n\n//# sourceURL=webpack://printJS/./src/js/pdf.js?")},"./src/js/print.js":function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _browser = __webpack_require__(/*! ./browser */ \"./src/js/browser.js\");\n\nvar _browser2 = _interopRequireDefault(_browser);\n\nvar _functions = __webpack_require__(/*! ./functions */ \"./src/js/functions.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Print = {\n  send: function send(params, printFrame) {\n    // Append iframe element to document body\n    document.getElementsByTagName('body')[0].appendChild(printFrame);\n\n    // Get iframe element\n    var iframeElement = document.getElementById(params.frameId);\n\n    // Wait for iframe to load all content\n    iframeElement.onload = function () {\n      if (params.type === 'pdf') {\n        performPrint(iframeElement, params);\n        return;\n      }\n\n      // Get iframe element document\n      var printDocument = iframeElement.contentWindow || iframeElement.contentDocument;\n      if (printDocument.document) printDocument = printDocument.document;\n\n      // Append printable element to the iframe body\n      printDocument.body.appendChild(params.printableElement);\n\n      // Add custom style\n      if (params.type !== 'pdf' && params.style) {\n        // Create style element\n        var style = document.createElement('style');\n        style.innerHTML = params.style;\n\n        // Append style element to iframe's head\n        printDocument.head.appendChild(style);\n      }\n\n      // If printing images, wait for them to load inside the iframe\n      var images = printDocument.getElementsByTagName('img');\n\n      if (images.length > 0) {\n        loadIframeImages(images).then(function () {\n          return performPrint(iframeElement, params);\n        });\n      } else {\n        performPrint(iframeElement, params);\n      }\n    };\n  }\n};\n\nfunction performPrint(iframeElement, params) {\n  try {\n    iframeElement.focus();\n\n    // If Edge or IE, try catch with execCommand\n    if (_browser2.default.isEdge() || _browser2.default.isIE()) {\n      try {\n        iframeElement.contentWindow.document.execCommand('print', false, null);\n      } catch (e) {\n        iframeElement.contentWindow.print();\n      }\n    } else {\n      // Other browsers\n      iframeElement.contentWindow.print();\n    }\n  } catch (error) {\n    params.onError(error);\n  } finally {\n    (0, _functions.cleanUp)(params);\n  }\n}\n\nfunction loadIframeImages(images) {\n  var promises = [];\n\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = images[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var image = _step.value;\n\n      promises.push(loadIframeImage(image));\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  return Promise.all(promises);\n}\n\nfunction loadIframeImage(image) {\n  return new Promise(function (resolve) {\n    var pollImage = function pollImage() {\n      !image || typeof image.naturalWidth === 'undefined' || image.naturalWidth === 0 || !image.complete ? setTimeout(pollImage, 500) : resolve();\n    };\n    pollImage();\n  });\n}\n\nexports.default = Print;\n\n//# sourceURL=webpack://printJS/./src/js/print.js?")},"./src/js/raw-html.js":function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _print = __webpack_require__(/*! ./print */ \"./src/js/print.js\");\n\nvar _print2 = _interopRequireDefault(_print);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  print: function print(params, printFrame) {\n    // Create printable element (container)\n    params.printableElement = document.createElement('div');\n    params.printableElement.setAttribute('style', 'width:100%');\n\n    // Set our raw html as the printable element inner html content\n    params.printableElement.innerHTML = params.printable;\n\n    // Print html contents\n    _print2.default.send(params, printFrame);\n  }\n};\n\n//# sourceURL=webpack://printJS/./src/js/raw-html.js?")},"./src/sass/index.scss":function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack://printJS/./src/sass/index.scss?")},0:function(module,exports,__webpack_require__){eval('module.exports = __webpack_require__(/*! ./src/index.js */"./src/index.js");\n\n\n//# sourceURL=webpack://printJS/multi_./src/index.js?')}}).default},module.exports=factory()}}]);