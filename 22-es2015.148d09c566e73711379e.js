(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{AWRA:function(t,e,i){"use strict";i.r(e),i.d(e,"SubscriptionPageModule",(function(){return D}));var n=i("ofXK"),a=i("3Pt+"),c=i("tyNb"),b=i("TEn/"),s=i("+DAS"),o=i("ybIa"),r=i("YKLQ"),d=i("i2Ty"),u=i("rIxz"),p=i("PWOX"),m=i("dMTE"),l=i("wd/R"),h=i("cBbZ"),g=i("fXoL"),y=i("0IaG"),W=i("Wp6s"),V=i("bTqV");function f(t,e){1&t&&(g.Wb(0,"div"),g.Wb(1,"h1"),g.Mc(2," Your subscription Ended, Please Renew..."),g.Vb(),g.Vb())}function v(t,e){if(1&t){const t=g.Xb();g.Wb(0,"div",16),g.Wb(1,"div",17),g.Wb(2,"mat-card",18),g.Wb(3,"div",19),g.Mc(4,"Basic"),g.Vb(),g.Wb(5,"mat-card-content"),g.Wb(6,"h4",20),g.Mc(7,"6 Months"),g.Vb(),g.Wb(8,"p"),g.Mc(9,"Your Store will be activated for 06 months in "),g.Vb(),g.Wb(10,"div"),g.Wb(11,"b"),g.Mc(12,"Rs 3,999"),g.Vb(),g.Vb(),g.Vb(),g.Wb(13,"mat-card-footer"),g.Wb(14,"div",13),g.Wb(15,"button",21),g.ec("click",(function(){return g.Cc(t),g.ic().renew(6)})),g.Mc(16,"Renew"),g.Vb(),g.Vb(),g.Vb(),g.Vb(),g.Wb(17,"mat-card",22),g.Wb(18,"div",23),g.Mc(19,"Premium"),g.Vb(),g.Wb(20,"mat-card-content"),g.Wb(21,"h4",20),g.Mc(22,"12 Months"),g.Vb(),g.Wb(23,"p"),g.Mc(24,"Your Store will be activated for 12 months in "),g.Vb(),g.Wb(25,"div"),g.Wb(26,"b"),g.Mc(27,"Rs 5,999"),g.Vb(),g.Vb(),g.Vb(),g.Wb(28,"mat-card-footer"),g.Wb(29,"div",13),g.Wb(30,"button",24),g.ec("click",(function(){return g.Cc(t),g.ic().renew(12)})),g.Mc(31,"Renew"),g.Vb(),g.Vb(),g.Vb(),g.Vb(),g.Vb(),g.Vb()}}function M(t,e){if(1&t&&(g.Wb(0,"mat-card",3),g.Wb(1,"mat-card-header"),g.Wb(2,"mat-card-title"),g.Mc(3,"Your Payment History"),g.Vb(),g.Vb(),g.Wb(4,"mat-card-content"),g.Wb(5,"div",5),g.Wb(6,"div",6),g.Mc(7,"Paid on"),g.Vb(),g.Wb(8,"div",7),g.Mc(9),g.Vb(),g.Vb(),g.Wb(10,"div",5),g.Wb(11,"div",6),g.Mc(12,"Paid For"),g.Vb(),g.Wb(13,"div",7),g.Mc(14),g.Vb(),g.Vb(),g.Wb(15,"div",5),g.Wb(16,"div",6),g.Mc(17,"Paid Reference"),g.Vb(),g.Wb(18,"div",7),g.Mc(19),g.Vb(),g.Vb(),g.Vb(),g.Vb()),2&t){const t=e.$implicit,i=g.ic();g.Db(9),g.Oc("",i.ygen.formatTimestampToDate(t.paydate)," "),g.Db(5),g.Oc("Rs ",t.amount," "),g.Db(5),g.Oc("",i.ygen.formatTimestampToDate(null==t.paymentResponse?null:t.paymentResponse.payment_id)," ")}}let w=(()=>{class t{constructor(t,e,i,n,a,c,b,s,r,d){this.events=t,this.ypay=e,this.yauth=i,this.ygen=n,this.alertme=a,this.route=c,this.router=b,this.ysharedata=s,this.ydata=r,this.dialog=d,this.priceitem={},this.subscription={},this.crudList=new o.a("/launchapp/renewpayments",r.getDatabase(),!0,this.ygen.getUid()),this.priceitem=this.yauth.getappSettings()}ngOnInit(){this.renewlist=this.crudList.getList(),this.subscription=this.yauth.subscriptionaccount}navigate(t,e){this.ysharedata.setData("currentevent",e),this.router.navigate([t],{queryParams:e})}renew(t){let e=6==t?this.priceitem.appsix?this.priceitem.appsix:3999:this.priceitem.apptwelve?this.priceitem.apptwelve:5999,i="business";12==t&&(i="premium");let n=this.ydata.getDatabase().createPushId();this.ypay.pay({sendorderid:n,renewapp:!0,isorder:!1,amount:e}),this.events.subscribe("renew:success["+n+"]",e=>{this.events.unsubscribe("renew:success["+n+"]");let a=+new Date,c=30*t+7,b=+l(new Date(a)).add(c,"days");this.yauth.subscriptionaccount.subscriptiondate=b,this.yauth.issubscriptionon=!0,this.yauth.subscriptiontype=i,this.subscription=this.yauth.subscriptionaccount,this.ydata.getDatabase().object("/launchapp").update({subscriptiondate:b,subscriptiontype:i});let s=this.ydata.getDatabase().createPushId();this.crudList.getListRefer().set(s,e),this.alertme.successdata("You have Successfully Renewed your Subscription with us, Congratulations").then(t=>{console.log("done",t)}),this.events.publish("shop:checksubscription")})}}return t.\u0275fac=function(e){return new(e||t)(g.Qb(h.a),g.Qb(m.a),g.Qb(p.a),g.Qb(u.a),g.Qb(d.a),g.Qb(c.a),g.Qb(c.j),g.Qb(r.a),g.Qb(s.a),g.Qb(y.b))},t.\u0275cmp=g.Kb({type:t,selectors:[["app-subscription"]],decls:43,vars:10,consts:[[3,"color"],["slot","start"],[1,"ion-padding"],[1,"example-card"],["mat-card-avatar","",1,"example-header-image"],[1,"container"],[1,"item","ylable"],[1,"item","ytext"],[1,"ycricle"],[1,"counter"],[1,"dte"],[4,"ngIf"],["class","pricetable","style","display: flex;",4,"ngIf"],[1,"containerb"],["mat-button","","color","warning","routerLink","/dashboard"],["class","example-card",4,"ngFor","ngForOf"],[1,"pricetable",2,"display","flex"],[1,"md-padding"],[1,"priceclass","basicback"],[1,"myhead","basic"],["layout","row","layout-align","center",1,"md-title"],["mat-button","","color","warning",3,"click"],[1,"priceclass","preimumback"],[1,"myhead","premium"],["mat-button","",3,"click"]],template:function(t,e){1&t&&(g.Wb(0,"ion-toolbar",0),g.Wb(1,"ion-buttons",1),g.Rb(2,"ion-menu-button"),g.Vb(),g.Wb(3,"ion-buttons",1),g.Rb(4,"ion-back-button"),g.Vb(),g.Wb(5,"ion-title"),g.Mc(6,"Subscription Information"),g.Vb(),g.Vb(),g.Wb(7,"ion-content",2),g.Wb(8,"mat-card",3),g.Wb(9,"mat-card-header"),g.Rb(10,"div",4),g.Wb(11,"mat-card-title"),g.Mc(12,"Your Store Subscription"),g.Vb(),g.Vb(),g.Wb(13,"mat-card-content"),g.Wb(14,"div",5),g.Wb(15,"div",6),g.Mc(16,"Store Launch on"),g.Vb(),g.Wb(17,"div",7),g.Mc(18),g.Vb(),g.Vb(),g.Wb(19,"div",5),g.Wb(20,"div",6),g.Mc(21,"Subscription End Date"),g.Vb(),g.Wb(22,"div",7),g.Mc(23),g.Vb(),g.Vb(),g.Wb(24,"div",5),g.Wb(25,"div",6),g.Mc(26,"Current Subscription"),g.Vb(),g.Wb(27,"div",7),g.Mc(28),g.Vb(),g.Vb(),g.Wb(29,"div"),g.Wb(30,"div",8),g.Wb(31,"div",9),g.Mc(32),g.Vb(),g.Vb(),g.Wb(33,"div",10),g.Mc(34,"Days to Expiry"),g.Vb(),g.Vb(),g.Kc(35,f,3,0,"div",11),g.Kc(36,v,32,0,"div",12),g.Vb(),g.Wb(37,"mat-card-actions"),g.Wb(38,"div",13),g.Wb(39,"button",14),g.Mc(40,"Cancel"),g.Vb(),g.Vb(),g.Vb(),g.Vb(),g.Kc(41,M,20,3,"mat-card",15),g.jc(42,"async"),g.Vb()),2&t&&(g.rc("color","warning"),g.Db(18),g.Oc("",e.ygen.formatTimestampToDate(e.subscription.lanunchdate)," "),g.Db(5),g.Oc("",e.ygen.formatTimestampToDate(e.subscription.subscriptiondate)," "),g.Db(5),g.Oc("",e.ygen.getSubscriptionType()," "),g.Db(4),g.Oc(" ",e.subscription.subscriptiondaysremaining," "),g.Db(3),g.rc("ngIf",!e.subscription.issubscriptionon),g.Db(1),g.rc("ngIf",e.subscription.subscriptiondaysremaining<=14),g.Db(5),g.rc("ngForOf",g.kc(42,8,e.renewlist)))},directives:[b.fb,b.j,b.L,b.f,b.g,b.db,b.s,W.a,W.f,W.c,W.h,W.d,n.m,W.b,V.a,b.qb,c.l,n.l,W.e],pipes:[n.b],styles:[".example-card[_ngcontent-%COMP%]{max-width:400px;margin:auto}.container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.containerb[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.item[_ngcontent-%COMP%]{font-size:15px}.ytext[_ngcontent-%COMP%]{font-weight:700}.counter[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{font-size:small}.ycricle[_ngcontent-%COMP%]{width:200px;height:200px;border-radius:50%;font-size:40px;line-height:200px;text-align:center;background:#000;color:#fff;margin:10px auto}.priceclass[_ngcontent-%COMP%]{width:46%;margin-right:5px;background:rgba(0,0,0,.17)}.md-padding[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.myhead[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin-bottom:10px;text-align:center;padding:10px}.basic[_ngcontent-%COMP%], .myhead[_ngcontent-%COMP%]{background:rgba(0,255,255,.2)}.premimum[_ngcontent-%COMP%]{background:rgba(255,0,0,.32)}.premimumback[_ngcontent-%COMP%]{background:rgba(16,3,3,.17)}.basicback[_ngcontent-%COMP%]{background:rgba(0,0,2,.11)}.mat-card-footer[_ngcontent-%COMP%]{background:#ffb6c1}.dte[_ngcontent-%COMP%]{position:absolute;left:41%;top:42%;color:#7fffd4}"]}),t})();var x=i("IZvt"),O=i("4pxM"),P=i("hVaU");const C=[{path:"",component:w}];let D=(()=>{class t{}return t.\u0275mod=g.Ob({type:t}),t.\u0275inj=g.Nb({factory:function(e){return new(e||t)},imports:[[n.c,a.i,b.gb,P.a,x.a,O.a,c.n.forChild(C)]]}),t})()}}]);