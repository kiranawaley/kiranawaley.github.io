function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{AWRA:function(t,e,n){"use strict";n.r(e),n.d(e,"SubscriptionPageModule",(function(){return O}));var i=n("ofXK"),a=n("3Pt+"),c=n("tyNb"),b=n("TEn/"),r=n("+DAS"),o=n("ybIa"),s=n("YKLQ"),u=n("i2Ty"),d=n("rIxz"),p=n("PWOX"),l=n("dMTE"),m=n("wd/R"),g=n("cBbZ"),h=n("fXoL"),f=n("0IaG"),y=n("Wp6s"),v=n("bTqV");function W(t,e){1&t&&(h.Wb(0,"div"),h.Wb(1,"h1"),h.Lc(2," Your subscription Ended, Please Renew..."),h.Vb(),h.Vb())}function V(t,e){if(1&t){var n=h.Xb();h.Wb(0,"div",16),h.Wb(1,"div",17),h.Wb(2,"mat-card",18),h.Wb(3,"div",19),h.Lc(4,"Basic"),h.Vb(),h.Wb(5,"mat-card-content"),h.Wb(6,"h4",20),h.Lc(7,"6 Months"),h.Vb(),h.Wb(8,"p"),h.Lc(9,"Your Store will be activated for 06 months in "),h.Vb(),h.Wb(10,"div"),h.Wb(11,"b"),h.Lc(12,"Rs 3,999"),h.Vb(),h.Vb(),h.Vb(),h.Wb(13,"mat-card-footer"),h.Wb(14,"div",13),h.Wb(15,"button",21),h.ec("click",(function(){return h.Cc(n),h.ic().renew(6)})),h.Lc(16,"Renew"),h.Vb(),h.Vb(),h.Vb(),h.Vb(),h.Wb(17,"mat-card",22),h.Wb(18,"div",23),h.Lc(19,"Premium"),h.Vb(),h.Wb(20,"mat-card-content"),h.Wb(21,"h4",20),h.Lc(22,"12 Months"),h.Vb(),h.Wb(23,"p"),h.Lc(24,"Your Store will be activated for 12 months in "),h.Vb(),h.Wb(25,"div"),h.Wb(26,"b"),h.Lc(27,"Rs 5,999"),h.Vb(),h.Vb(),h.Vb(),h.Wb(28,"mat-card-footer"),h.Wb(29,"div",13),h.Wb(30,"button",24),h.ec("click",(function(){return h.Cc(n),h.ic().renew(12)})),h.Lc(31,"Renew"),h.Vb(),h.Vb(),h.Vb(),h.Vb(),h.Vb(),h.Vb()}}function w(t,e){if(1&t&&(h.Wb(0,"mat-card",3),h.Wb(1,"mat-card-header"),h.Wb(2,"mat-card-title"),h.Lc(3,"Your Payment History"),h.Vb(),h.Vb(),h.Wb(4,"mat-card-content"),h.Wb(5,"div",5),h.Wb(6,"div",6),h.Lc(7,"Paid on"),h.Vb(),h.Wb(8,"div",7),h.Lc(9),h.Vb(),h.Vb(),h.Wb(10,"div",5),h.Wb(11,"div",6),h.Lc(12,"Paid For"),h.Vb(),h.Wb(13,"div",7),h.Lc(14),h.Vb(),h.Vb(),h.Wb(15,"div",5),h.Wb(16,"div",6),h.Lc(17,"Paid Reference"),h.Vb(),h.Wb(18,"div",7),h.Lc(19),h.Vb(),h.Vb(),h.Vb(),h.Vb()),2&t){var n=e.$implicit,i=h.ic();h.Db(9),h.Nc("",i.ygen.formatTimestampToDate(n.paydate)," "),h.Db(5),h.Nc("Rs ",n.amount," "),h.Db(5),h.Nc("",i.ygen.formatTimestampToDate(null==n.paymentResponse?null:n.paymentResponse.payment_id)," ")}}var L,P,C=((L=function(){function t(e,n,i,a,c,b,r,s,u,d){_classCallCheck(this,t),this.events=e,this.ypay=n,this.yauth=i,this.ygen=a,this.alertme=c,this.route=b,this.router=r,this.ysharedata=s,this.ydata=u,this.dialog=d,this.priceitem={},this.subscription={},this.crudList=new o.a("/launchapp/renewpayments",u.getDatabase(),!0,this.ygen.getUid()),this.priceitem=this.yauth.getappSettings()}return _createClass(t,[{key:"ngOnInit",value:function(){this.renewlist=this.crudList.getList(),this.subscription=this.yauth.subscriptionaccount}},{key:"navigate",value:function(t,e){this.ysharedata.setData("currentevent",e),this.router.navigate([t],{queryParams:e})}},{key:"renew",value:function(t){var e=this,n=6==t?this.priceitem.appsix?this.priceitem.appsix:3999:this.priceitem.apptwelve?this.priceitem.apptwelve:5999,i="business";12==t&&(i="premium");var a=this.ydata.getDatabase().createPushId();this.ypay.pay({sendorderid:a,renewapp:!0,isorder:!1,amount:n}),this.events.subscribe("renew:success["+a+"]",(function(n){e.events.unsubscribe("renew:success["+a+"]");var c=+new Date,b=30*t+7,r=+m(new Date(c)).add(b,"days");e.yauth.subscriptionaccount.subscriptiondate=r,e.yauth.issubscriptionon=!0,e.yauth.subscriptiontype=i,e.subscription=e.yauth.subscriptionaccount,e.ydata.getDatabase().object("/launchapp").update({subscriptiondate:r,subscriptiontype:i});var o=e.ydata.getDatabase().createPushId();e.crudList.getListRefer().set(o,n),e.alertme.successdata("You have Successfully Renewed your Subscription with us, Congratulations").then((function(t){console.log("done",t)})),e.events.publish("shop:checksubscription")}))}}]),t}()).\u0275fac=function(t){return new(t||L)(h.Qb(g.a),h.Qb(l.a),h.Qb(p.a),h.Qb(d.a),h.Qb(u.a),h.Qb(c.a),h.Qb(c.g),h.Qb(s.a),h.Qb(r.a),h.Qb(f.b))},L.\u0275cmp=h.Kb({type:L,selectors:[["app-subscription"]],decls:43,vars:10,consts:[[3,"color"],["slot","start"],[1,"ion-padding"],[1,"example-card"],["mat-card-avatar","",1,"example-header-image"],[1,"container"],[1,"item","ylable"],[1,"item","ytext"],[1,"ycricle"],[1,"counter"],[1,"dte"],[4,"ngIf"],["class","pricetable","style","display: flex;",4,"ngIf"],[1,"containerb"],["mat-button","","color","warning","routerLink","/dashboard"],["class","example-card",4,"ngFor","ngForOf"],[1,"pricetable",2,"display","flex"],[1,"md-padding"],[1,"priceclass","basicback"],[1,"myhead","basic"],["layout","row","layout-align","center",1,"md-title"],["mat-button","","color","warning",3,"click"],[1,"priceclass","preimumback"],[1,"myhead","premium"],["mat-button","",3,"click"]],template:function(t,e){1&t&&(h.Wb(0,"ion-toolbar",0),h.Wb(1,"ion-buttons",1),h.Rb(2,"ion-menu-button"),h.Vb(),h.Wb(3,"ion-buttons",1),h.Rb(4,"ion-back-button"),h.Vb(),h.Wb(5,"ion-title"),h.Lc(6,"Subscription Information"),h.Vb(),h.Vb(),h.Wb(7,"ion-content",2),h.Wb(8,"mat-card",3),h.Wb(9,"mat-card-header"),h.Rb(10,"div",4),h.Wb(11,"mat-card-title"),h.Lc(12,"Your Store Subscription"),h.Vb(),h.Vb(),h.Wb(13,"mat-card-content"),h.Wb(14,"div",5),h.Wb(15,"div",6),h.Lc(16,"Store Launch on"),h.Vb(),h.Wb(17,"div",7),h.Lc(18),h.Vb(),h.Vb(),h.Wb(19,"div",5),h.Wb(20,"div",6),h.Lc(21,"Subscription End Date"),h.Vb(),h.Wb(22,"div",7),h.Lc(23),h.Vb(),h.Vb(),h.Wb(24,"div",5),h.Wb(25,"div",6),h.Lc(26,"Current Subscription"),h.Vb(),h.Wb(27,"div",7),h.Lc(28),h.Vb(),h.Vb(),h.Wb(29,"div"),h.Wb(30,"div",8),h.Wb(31,"div",9),h.Lc(32),h.Vb(),h.Vb(),h.Wb(33,"div",10),h.Lc(34,"Days to Expiry"),h.Vb(),h.Vb(),h.Jc(35,W,3,0,"div",11),h.Jc(36,V,32,0,"div",12),h.Vb(),h.Wb(37,"mat-card-actions"),h.Wb(38,"div",13),h.Wb(39,"button",14),h.Lc(40,"Cancel"),h.Vb(),h.Vb(),h.Vb(),h.Vb(),h.Jc(41,w,20,3,"mat-card",15),h.jc(42,"async"),h.Vb()),2&t&&(h.rc("color","warning"),h.Db(18),h.Nc("",e.ygen.formatTimestampToDate(e.subscription.lanunchdate)," "),h.Db(5),h.Nc("",e.ygen.formatTimestampToDate(e.subscription.subscriptiondate)," "),h.Db(5),h.Nc("",e.ygen.getSubscriptionType()," "),h.Db(4),h.Nc(" ",e.subscription.subscriptiondaysremaining," "),h.Db(3),h.rc("ngIf",!e.subscription.issubscriptionon),h.Db(1),h.rc("ngIf",e.subscription.subscriptiondaysremaining<=14),h.Db(5),h.rc("ngForOf",h.kc(42,8,e.renewlist)))},directives:[b.fb,b.j,b.L,b.f,b.g,b.db,b.s,y.a,y.f,y.c,y.h,y.d,i.m,y.b,v.a,b.pb,c.i,i.l,y.e],pipes:[i.b],styles:[".example-card[_ngcontent-%COMP%]{max-width:400px;margin:auto}.container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.containerb[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.item[_ngcontent-%COMP%]{font-size:15px}.ytext[_ngcontent-%COMP%]{font-weight:700}.counter[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{font-size:small}.ycricle[_ngcontent-%COMP%]{width:200px;height:200px;border-radius:50%;font-size:40px;line-height:200px;text-align:center;background:#000;color:#fff;margin:10px auto}.priceclass[_ngcontent-%COMP%]{width:46%;margin-right:5px;background:rgba(0,0,0,.17)}.md-padding[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.myhead[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin-bottom:10px;text-align:center;padding:10px}.basic[_ngcontent-%COMP%], .myhead[_ngcontent-%COMP%]{background:rgba(0,255,255,.2)}.premimum[_ngcontent-%COMP%]{background:rgba(255,0,0,.32)}.premimumback[_ngcontent-%COMP%]{background:rgba(16,3,3,.17)}.basicback[_ngcontent-%COMP%]{background:rgba(0,0,2,.11)}.mat-card-footer[_ngcontent-%COMP%]{background:#ffb6c1}.dte[_ngcontent-%COMP%]{position:absolute;left:41%;top:42%;color:#7fffd4}"]}),L),x=n("IZvt"),k=n("4pxM"),_=n("hVaU"),D=[{path:"",component:C}],O=((P=function t(){_classCallCheck(this,t)}).\u0275mod=h.Ob({type:P}),P.\u0275inj=h.Nb({factory:function(t){return new(t||P)},imports:[[i.c,a.i,b.gb,_.a,x.a,k.a,c.k.forChild(D)]]}),P)}}]);