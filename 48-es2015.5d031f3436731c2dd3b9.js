(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{"+duN":function(e,n,t){"use strict";t.r(n),t.d(n,"InboxPageModule",(function(){return h}));var c=t("ofXK"),i=t("3Pt+"),o=t("tyNb"),s=t("TEn/"),a=t("OJQs"),b=t("fXoL"),r=t("sYmb");function l(e,n){1&e&&b.Rb(0,"ion-progress-bar",10)}function d(e,n){if(1&e){const e=b.Xb();b.Wb(0,"ion-item",19),b.Wb(1,"ion-label"),b.Mc(2),b.jc(3,"translate"),b.Vb(),b.Wb(4,"ion-button",20),b.ec("click",(function(){b.Cc(e);const n=b.ic().$implicit;return b.ic(2).pay(n)})),b.Mc(5),b.jc(6,"translate"),b.Vb(),b.Vb()}2&e&&(b.Db(2),b.Nc(b.kc(3,2,"Payment Message")),b.Db(3),b.Nc(b.kc(6,4,"Pay")))}function u(e,n){if(1&e&&(b.Wb(0,"p",21),b.Mc(1),b.Vb()),2&e){const e=b.ic().$implicit;b.Db(1),b.Oc(' "',null==e||null==e.paymentResponse?null:e.paymentResponse.status_message,'" ')}}function g(e,n){if(1&e){const e=b.Xb();b.Wb(0,"ion-button",22),b.ec("click",(function(){b.Cc(e);const n=b.ic().$implicit;return b.ic(2).deleteNotice(n)})),b.Mc(1),b.jc(2,"translate"),b.Vb()}2&e&&(b.Db(1),b.Nc(b.kc(2,1,"Delete")))}function m(e,n){if(1&e){const e=b.Xb();b.Wb(0,"ion-button",16),b.ec("click",(function(){b.Cc(e);const n=b.ic().$implicit;return b.ic(2).donePayment(n)})),b.Mc(1),b.jc(2,"translate"),b.Vb()}2&e&&(b.Db(1),b.Oc(" ",b.kc(2,1,"Done")," "))}function p(e,n){if(1&e){const e=b.Xb();b.Wb(0,"ion-card"),b.Wb(1,"ion-card-header"),b.Wb(2,"ion-card-subtitle"),b.Mc(3),b.Vb(),b.Wb(4,"ion-card-title"),b.Mc(5),b.Vb(),b.Vb(),b.Kc(6,d,7,6,"ion-item",13),b.Wb(7,"ion-card-content"),b.Mc(8),b.Kc(9,u,2,1,"p",14),b.Vb(),b.Wb(10,"ion-item"),b.Kc(11,g,3,3,"ion-button",15),b.Wb(12,"ion-button",16),b.ec("click",(function(){b.Cc(e);const t=n.$implicit;return b.ic(2).ygen.mailthisone(t.senderemail,"_system",{hidden:"no",location:"yes"})})),b.Mc(13),b.jc(14,"translate"),b.Vb(),b.Kc(15,m,3,3,"ion-button",17),b.Wb(16,"ion-button",18),b.ec("click",(function(){b.Cc(e);const t=n.$implicit;return b.ic(2).markreadtoggle(t)})),b.Mc(17),b.jc(18,"translate"),b.Vb(),b.Vb(),b.Vb()}if(2&e){const e=n.$implicit,t=b.ic(2);b.Db(3),b.Oc("On ",t.ygen.formatTimestampToDate(e.date),""),b.Db(2),b.Nc(e.title),b.Db(1),b.rc("ngIf",e.paymentmessage&&"Success"!==(null==e||null==e.paymentResponse?null:e.paymentResponse.order_status)),b.Db(2),b.Oc(" ",e.message," "),b.Db(1),b.rc("ngIf","Success"==(null==e||null==e.paymentResponse?null:e.paymentResponse.order_status)),b.Db(2),b.rc("ngIf",e.candelete),b.Db(2),b.Oc(" ",b.kc(14,9,"Reply"),""),b.Db(2),b.rc("ngIf",!e.read&&"Success"==(null==e||null==e.paymentResponse?null:e.paymentResponse.order_status)&&e.paymentmessage),b.Db(2),b.Oc(" ",b.kc(18,11,t.getTitle(e))," ")}}function f(e,n){if(1&e&&(b.Wb(0,"div"),b.Wb(1,"ion-list-header"),b.Wb(2,"ion-label"),b.Mc(3),b.jc(4,"translate"),b.Wb(5,"ion-badge",11),b.Mc(6),b.Vb(),b.Vb(),b.Vb(),b.Kc(7,p,19,13,"ion-card",12),b.Vb()),2&e){const e=n.ngIf;b.Db(3),b.Oc("",b.kc(4,3,"Notifications Found"),"\xa0"),b.Db(3),b.Oc("",e.length," "),b.Db(1),b.rc("ngForOf",e)}}const y=[{path:"",component:(()=>{class e{constructor(e,n,t,c,i,o,s){this.modalCtrl=e,this.router=n,this.ygen=t,this.ydataservice=c,this.ystorageservice=i,this.ypay=o,this.yds=s,this.segment="unread"}ngOnInit(){}ionViewWillEnter(){this.myinbox=this.ydataservice.getmyinbox(!1)}deleteNotices(e){this.ydataservice.getDatabase().list("/board/inbox/"+this.ygen.getUid()).remove()}deleteNotice(e){this.ydataservice.deletefrommyinbox(e)}donePayment(e){Object.assign(e,{read:!0}),this.ydataservice.updatemyinbox(e)}markreadtoggle(e){Object.assign(e,{read:!e.read}),this.ydataservice.updatemyinbox(e)}pay(e){this.ypay.pay(e)}getTitle(e){return e.read?"Mark Unread":"Mark Read"}segmentChanged(e){console.log("segment",e),this.myinbox=this.ydataservice.getmyinbox("unread"!==e.detail.value)}}return e.\u0275fac=function(n){return new(n||e)(b.Qb(s.mb),b.Qb(o.j),b.Qb(a.T),b.Qb(a.Q),b.Qb(a.db),b.Qb(a.Z),b.Qb(a.R))},e.\u0275cmp=b.Kb({type:e,selectors:[["app-inbox"]],decls:23,vars:20,consts:[[3,"color"],["slot","start"],["slot","end"],[3,"icon","askquestion","icontext","isiconwithtext","actionEvent"],[3,"ngModel","ngModelChange","ionChange"],["value","unread"],["value","read"],["padding",""],["loading",""],[4,"ngIf","ngIfElse"],["type","indeterminate","reversed","true"],["color","danger","slot","end"],[4,"ngFor","ngForOf"],["text-wrap","",4,"ngIf"],["style","font-size:large;color:red",4,"ngIf"],["color","danger","size","small","ion-button","","outline","","round","","color","danger",3,"click",4,"ngIf"],["size","small",3,"click"],["size","small",3,"click",4,"ngIf"],["color","light","size","small",3,"click"],["text-wrap",""],["color","danger","fill","outline","slot","end",3,"click"],[2,"font-size","large","color","red"],["color","danger","size","small","ion-button","","outline","","round","","color","danger",3,"click"]],template:function(e,n){if(1&e&&(b.Wb(0,"ion-header"),b.Wb(1,"ion-toolbar",0),b.Wb(2,"ion-buttons",1),b.Rb(3,"ion-back-button"),b.Vb(),b.Wb(4,"ion-buttons",2),b.Wb(5,"app-appicon",3),b.ec("actionEvent",(function(e){return n.deleteNotices(e)})),b.Vb(),b.Vb(),b.Wb(6,"ion-title"),b.Mc(7),b.jc(8,"translate"),b.Vb(),b.Vb(),b.Vb(),b.Wb(9,"ion-header"),b.Wb(10,"ion-toolbar",0),b.Wb(11,"ion-segment",4),b.ec("ngModelChange",(function(e){return n.segment=e}))("ionChange",(function(e){return n.segmentChanged(e)})),b.Wb(12,"ion-segment-button",5),b.Mc(13),b.jc(14,"translate"),b.Vb(),b.Wb(15,"ion-segment-button",6),b.Mc(16),b.jc(17,"translate"),b.Vb(),b.Vb(),b.Vb(),b.Vb(),b.Wb(18,"ion-content",7),b.Kc(19,l,1,0,"ng-template",null,8,b.Lc),b.Kc(21,f,8,5,"div",9),b.jc(22,"async"),b.Vb()),2&e){const e=b.zc(20);b.Db(1),b.rc("color","warning"),b.Db(4),b.rc("icon","delete")("askquestion",!0)("icontext","Remove All")("isiconwithtext",!0),b.Db(2),b.Nc(b.kc(8,12,"Inbox")),b.Db(3),b.rc("color","warning"),b.Db(1),b.rc("ngModel",n.segment),b.Db(2),b.Oc(" ",b.kc(14,14,"Unread Messages")," "),b.Db(3),b.Oc(" ",b.kc(17,16,"Read Messages")," "),b.Db(5),b.rc("ngIf",b.kc(22,18,n.myinbox))("ngIfElse",e)}},directives:[s.y,s.hb,s.j,s.f,s.g,a.f,s.fb,s.T,s.tb,i.p,i.s,s.U,s.s,c.m,s.P,s.L,s.J,s.h,c.l,s.k,s.m,s.n,s.o,s.l,s.D,s.i],pipes:[r.c,c.b],styles:[""]}),e})()}];let h=(()=>{class e{}return e.\u0275mod=b.Ob({type:e}),e.\u0275inj=b.Nb({factory:function(n){return new(n||e)},imports:[[c.c,i.j,s.ib,a.H,a.b,a.o,o.n.forChild(y)]]}),e})()}}]);