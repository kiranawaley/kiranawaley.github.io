function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,n,t){return n&&_defineProperties(e.prototype,n),t&&_defineProperties(e,t),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{"+duN":function(e,n,t){"use strict";t.r(n),t.d(n,"InboxPageModule",(function(){return k}));var i=t("ofXK"),c=t("3Pt+"),o=t("tyNb"),a=t("TEn/"),r=t("OJQs"),s=t("fXoL"),l=t("sYmb");function b(e,n){1&e&&s.Rb(0,"ion-progress-bar",10)}function u(e,n){if(1&e){var t=s.Xb();s.Wb(0,"ion-item",19),s.Wb(1,"ion-label"),s.Mc(2),s.jc(3,"translate"),s.Vb(),s.Wb(4,"ion-button",20),s.ec("click",(function(){s.Cc(t);var e=s.ic().$implicit;return s.ic(2).pay(e)})),s.Mc(5),s.jc(6,"translate"),s.Vb(),s.Vb()}2&e&&(s.Db(2),s.Nc(s.kc(3,2,"Payment Message")),s.Db(3),s.Nc(s.kc(6,4,"Pay")))}function d(e,n){if(1&e&&(s.Wb(0,"p",21),s.Mc(1),s.Vb()),2&e){var t=s.ic().$implicit;s.Db(1),s.Oc(' "',null==t||null==t.paymentResponse?null:t.paymentResponse.status_message,'" ')}}function g(e,n){if(1&e){var t=s.Xb();s.Wb(0,"ion-button",22),s.ec("click",(function(){s.Cc(t);var e=s.ic().$implicit;return s.ic(2).deleteNotice(e)})),s.Mc(1),s.jc(2,"translate"),s.Vb()}2&e&&(s.Db(1),s.Nc(s.kc(2,1,"Delete")))}function f(e,n){if(1&e){var t=s.Xb();s.Wb(0,"ion-button",16),s.ec("click",(function(){s.Cc(t);var e=s.ic().$implicit;return s.ic(2).donePayment(e)})),s.Mc(1),s.jc(2,"translate"),s.Vb()}2&e&&(s.Db(1),s.Oc(" ",s.kc(2,1,"Done")," "))}function m(e,n){if(1&e){var t=s.Xb();s.Wb(0,"ion-card"),s.Wb(1,"ion-card-header"),s.Wb(2,"ion-card-subtitle"),s.Mc(3),s.Vb(),s.Wb(4,"ion-card-title"),s.Mc(5),s.Vb(),s.Vb(),s.Kc(6,u,7,6,"ion-item",13),s.Wb(7,"ion-card-content"),s.Mc(8),s.Kc(9,d,2,1,"p",14),s.Vb(),s.Wb(10,"ion-item"),s.Kc(11,g,3,3,"ion-button",15),s.Wb(12,"ion-button",16),s.ec("click",(function(){s.Cc(t);var e=n.$implicit;return s.ic(2).ygen.mailthisone(e.senderemail,"_system",{hidden:"no",location:"yes"})})),s.Mc(13),s.jc(14,"translate"),s.Vb(),s.Kc(15,f,3,3,"ion-button",17),s.Wb(16,"ion-button",18),s.ec("click",(function(){s.Cc(t);var e=n.$implicit;return s.ic(2).markreadtoggle(e)})),s.Mc(17),s.jc(18,"translate"),s.Vb(),s.Vb(),s.Vb()}if(2&e){var i=n.$implicit,c=s.ic(2);s.Db(3),s.Oc("On ",c.ygen.formatTimestampToDate(i.date),""),s.Db(2),s.Nc(i.title),s.Db(1),s.rc("ngIf",i.paymentmessage&&"Success"!==(null==i||null==i.paymentResponse?null:i.paymentResponse.order_status)),s.Db(2),s.Oc(" ",i.message," "),s.Db(1),s.rc("ngIf","Success"==(null==i||null==i.paymentResponse?null:i.paymentResponse.order_status)),s.Db(2),s.rc("ngIf",i.candelete),s.Db(2),s.Oc(" ",s.kc(14,9,"Reply"),""),s.Db(2),s.rc("ngIf",!i.read&&"Success"==(null==i||null==i.paymentResponse?null:i.paymentResponse.order_status)&&i.paymentmessage),s.Db(2),s.Oc(" ",s.kc(18,11,c.getTitle(i))," ")}}function p(e,n){if(1&e&&(s.Wb(0,"div"),s.Wb(1,"ion-list-header"),s.Wb(2,"ion-label"),s.Mc(3),s.jc(4,"translate"),s.Wb(5,"ion-badge",11),s.Mc(6),s.Vb(),s.Vb(),s.Vb(),s.Kc(7,m,19,13,"ion-card",12),s.Vb()),2&e){var t=n.ngIf;s.Db(3),s.Oc("",s.kc(4,3,"Notifications Found"),"\xa0"),s.Db(3),s.Oc("",t.length," "),s.Db(1),s.rc("ngForOf",t)}}var y,v,h=[{path:"",component:(y=function(){function e(n,t,i,c,o,a,r){_classCallCheck(this,e),this.modalCtrl=n,this.router=t,this.ygen=i,this.ydataservice=c,this.ystorageservice=o,this.ypay=a,this.yds=r,this.segment="unread"}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"ionViewWillEnter",value:function(){this.myinbox=this.ydataservice.getmyinbox(!1)}},{key:"deleteNotices",value:function(e){this.ydataservice.getDatabase().list("/board/inbox/"+this.ygen.getUid()).remove()}},{key:"deleteNotice",value:function(e){this.ydataservice.deletefrommyinbox(e)}},{key:"donePayment",value:function(e){Object.assign(e,{read:!0}),this.ydataservice.updatemyinbox(e)}},{key:"markreadtoggle",value:function(e){Object.assign(e,{read:!e.read}),this.ydataservice.updatemyinbox(e)}},{key:"pay",value:function(e){this.ypay.pay(e)}},{key:"getTitle",value:function(e){return e.read?"Mark Unread":"Mark Read"}},{key:"segmentChanged",value:function(e){console.log("segment",e),this.myinbox=this.ydataservice.getmyinbox("unread"!==e.detail.value)}}]),e}(),y.\u0275fac=function(e){return new(e||y)(s.Qb(a.mb),s.Qb(o.j),s.Qb(r.T),s.Qb(r.Q),s.Qb(r.db),s.Qb(r.Z),s.Qb(r.R))},y.\u0275cmp=s.Kb({type:y,selectors:[["app-inbox"]],decls:23,vars:20,consts:[[3,"color"],["slot","start"],["slot","end"],[3,"icon","askquestion","icontext","isiconwithtext","actionEvent"],[3,"ngModel","ngModelChange","ionChange"],["value","unread"],["value","read"],["padding",""],["loading",""],[4,"ngIf","ngIfElse"],["type","indeterminate","reversed","true"],["color","danger","slot","end"],[4,"ngFor","ngForOf"],["text-wrap","",4,"ngIf"],["style","font-size:large;color:red",4,"ngIf"],["color","danger","size","small","ion-button","","outline","","round","","color","danger",3,"click",4,"ngIf"],["size","small",3,"click"],["size","small",3,"click",4,"ngIf"],["color","light","size","small",3,"click"],["text-wrap",""],["color","danger","fill","outline","slot","end",3,"click"],[2,"font-size","large","color","red"],["color","danger","size","small","ion-button","","outline","","round","","color","danger",3,"click"]],template:function(e,n){if(1&e&&(s.Wb(0,"ion-header"),s.Wb(1,"ion-toolbar",0),s.Wb(2,"ion-buttons",1),s.Rb(3,"ion-back-button"),s.Vb(),s.Wb(4,"ion-buttons",2),s.Wb(5,"app-appicon",3),s.ec("actionEvent",(function(e){return n.deleteNotices(e)})),s.Vb(),s.Vb(),s.Wb(6,"ion-title"),s.Mc(7),s.jc(8,"translate"),s.Vb(),s.Vb(),s.Vb(),s.Wb(9,"ion-header"),s.Wb(10,"ion-toolbar",0),s.Wb(11,"ion-segment",4),s.ec("ngModelChange",(function(e){return n.segment=e}))("ionChange",(function(e){return n.segmentChanged(e)})),s.Wb(12,"ion-segment-button",5),s.Mc(13),s.jc(14,"translate"),s.Vb(),s.Wb(15,"ion-segment-button",6),s.Mc(16),s.jc(17,"translate"),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Wb(18,"ion-content",7),s.Kc(19,b,1,0,"ng-template",null,8,s.Lc),s.Kc(21,p,8,5,"div",9),s.jc(22,"async"),s.Vb()),2&e){var t=s.zc(20);s.Db(1),s.rc("color","warning"),s.Db(4),s.rc("icon","delete")("askquestion",!0)("icontext","Remove All")("isiconwithtext",!0),s.Db(2),s.Nc(s.kc(8,12,"Inbox")),s.Db(3),s.rc("color","warning"),s.Db(1),s.rc("ngModel",n.segment),s.Db(2),s.Oc(" ",s.kc(14,14,"Unread Messages")," "),s.Db(3),s.Oc(" ",s.kc(17,16,"Read Messages")," "),s.Db(5),s.rc("ngIf",s.kc(22,18,n.myinbox))("ngIfElse",t)}},directives:[a.y,a.hb,a.j,a.f,a.g,r.f,a.fb,a.T,a.tb,c.p,c.s,a.U,a.s,i.m,a.P,a.L,a.J,a.h,i.l,a.k,a.m,a.n,a.o,a.l,a.D,a.i],pipes:[l.c,i.b],styles:[""]}),y)}],k=((v=function e(){_classCallCheck(this,e)}).\u0275mod=s.Ob({type:v}),v.\u0275inj=s.Nb({factory:function(e){return new(e||v)},imports:[[i.c,c.j,a.ib,r.H,r.b,r.o,o.n.forChild(h)]]}),v)}}]);