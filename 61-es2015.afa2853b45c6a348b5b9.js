(window.webpackJsonp=window.webpackJsonp||[]).push([[61],{fhSy:function(e,t,i){"use strict";i.r(t),i.d(t,"RegisterPageModule",(function(){return C}));var a=i("ofXK"),r=i("3Pt+"),n=i("tyNb"),s=i("TEn/"),o=i("D+2S"),l=i("sH8K"),c=i("DzsY"),d=i("0nTO"),h=i("+DAS"),u=i("DVUX"),b=i("mLjM"),p=i("PWOX"),m=i("gAVi"),w=i("YKLQ"),g=i("rIxz"),y=i("wd/R"),f=i("fXoL"),v=i("Wp6s"),V=i("iEmi"),E=i("sYmb");function I(e,t){if(1&e){const e=f.Xb();f.Wb(0,"ion-row",5),f.Wb(1,"ion-col"),f.Wb(2,"ion-item"),f.Wb(3,"ion-label",6),f.Lc(4,"Profile Image URL"),f.Vb(),f.Wb(5,"ion-input",7),f.ec("ionInput",(function(t){return f.Cc(e),f.ic().setimageurl(t)})),f.Vb(),f.Vb(),f.Vb(),f.Vb()}}function P(e,t){if(1&e){const e=f.Xb();f.Wb(0,"ion-row",5),f.Wb(1,"form",8),f.Wb(2,"h3"),f.Lc(3,"Change your current password"),f.Vb(),f.Wb(4,"ion-col"),f.Wb(5,"ion-item"),f.Wb(6,"ion-label",6),f.Lc(7,"New Password"),f.Vb(),f.Rb(8,"ion-input",9),f.Vb(),f.Wb(9,"ion-item"),f.Wb(10,"ion-label",6),f.Lc(11,"Confirm Password"),f.Vb(),f.Rb(12,"ion-input",10),f.Vb(),f.Wb(13,"ion-text",11),f.Wb(14,"p",12),f.Lc(15," Confirm Password is not matching with new Password "),f.Vb(),f.Vb(),f.Wb(16,"ion-item"),f.Wb(17,"ion-button",13),f.ec("click",(function(){return f.Cc(e),f.ic().updatepassword()})),f.Lc(18,"Set New Password"),f.Vb(),f.Vb(),f.Vb(),f.Vb(),f.Vb()}if(2&e){const e=f.ic();f.Db(1),f.rc("formGroup",e.userpassword),f.Db(13),f.rc("hidden",!(e.userpassword.errors&&e.userpassword.errors.passwordsNotEqual&&e.userpassword.controls.confirmpassword.touched)),f.Db(3),f.rc("disabled",!e.userpassword.valid)}}function W(e,t){if(1&e){const e=f.Xb();f.Wb(0,"yogagainv2-dyanamic-page",14),f.ec("actionEvent",(function(t){return f.Cc(e),f.ic().send(t)}))("cancelEvent",(function(t){return f.Cc(e),f.ic().cancel(t)})),f.Vb()}if(2&e){const e=f.ic();f.rc("captchaOn",e.needcaptcha)("captchaName","registercaptcha")("whatform",e.whatcontrolsmap)("whatformgroup",e.inwhatformgroup)("whichbuttons",e.mybuttons)}}let N=(()=>{class e{constructor(e,t,i,a,n,s,o,l,c,d,h,u){this.yovalservice=e,this.yobuilderservice=t,this.ynotification=i,this.ydataservice=a,this.toasterService=n,this.yauthservice=s,this.ystorageservice=o,this.ydatashareservice=l,this.router=c,this.route=d,this.zone=h,this.ygen=u,this.overrideiamge="",this.whatcontrolsmap=new Map,this.clear=!1,this.needcaptcha=!1,this.title="Register Profile",this.mybuttons=new Map,this.loadingindicator=!1,this.userpassword=new r.g({newpassword:new r.d("",r.u.compose([r.u.required,r.u.maxLength(20)])),confirmpassword:new r.d("",r.u.compose([r.u.required,r.u.maxLength(20)]))},{validators:A}),this.ynotification.registertoken(),location}ngOnInit(){}callform(){console.log(this.userpassword)}updatepassword(){this.yauthservice.updateCurrentPassword(this.userpassword.value.newpassword)}setimageurl(e){this.overrideiamge=e.target.value}ionViewWillEnter(){this.newuser=null,this.clear=!1,this.edittenant=void 0;const e=this.route.snapshot.paramMap.get("id");this.zone.run(()=>{e?(this.needcaptcha=!1,this.ydataservice.retrivedata("/profiles",e).subscribe(e=>{this.edittenant=e,this.startObject(this.edittenant)})):(this.needcaptcha=!0,this.startObject(this.edittenant))})}startObject(e){e&&(this.title="Edit Profile");let t=new Map,i=[],a=0;i[a]=new b.b(a,"photo","https://res.cloudinary.com/ideasyogi/image/upload/v1554035710/yashica_tzklwz.png",b.a.image),i[a].placeholder="Profile Picture",i[a].required=!0,a++,this.yauthservice.isLoggedIn()||(i[a]=new b.b(a,"userid","",b.a.email),i[a].placeholder="Enter Profile Email",i[a].hint="It will be Profile user Name",i[a].enabled=!0,i[a].showme=!0,a++,i[a]=new b.b(a,"password","",b.a.password),i[a].placeholder="Enter Profile Password",i[a].hint="Its Profile 6 digit password",a++),i[a]=new b.b(a,"userName","",b.a.text),i[a].placeholder="Enter Your Name",a++,i[a]=new b.b(a,"mobile","",b.a.phone),i[a].placeholder="Enter Profile Phone",a++,i[a]=new b.b(a,"unitName","",b.a.text),i[a].placeholder="Building / House name",i[a].required=!0,i[a].showme=!0,a++,i[a]=new b.b(a,"address","",b.a.textarea),i[a].placeholder="Address",i[a].enabled=!0,i[a].required=!0,i[a].showme=!0,a++,i[a]=new b.b(a,"city","",b.a.text),i[a].placeholder="Enter Profile City you live in",i[a].hint="The city you will live in",i[a].enabled=!0,i[a].required=!0,i[a].showme=!0,a++,i[a]=new b.b(a,"zip","",b.a.number),i[a].placeholder="Enter Zip for City you live in",i[a].hint="Enter Zip for City you live in",i[a].enabled=!0,i[a].required=!0,i[a].showme=!0,a++,i[a]=new b.b(a,"state","",b.a.text),i[a].placeholder="Enter your state",i[a].hint="Enter State you leave in",i[a].enabled=!0,i[a].required=!0,i[a].showme=!0,a++,i[a]=new b.b(a,"country","INDIA",b.a.text),i[a].placeholder="Enter Profile Country",i[a].enabled=!0,i[a].required=!0,i[a].showme=!0,a++,i[a]=new b.b(a,"profileid",this.randomletter()+this.randomletter()+~~(1e3*Math.random()),b.a.text),i[a].placeholder="Profile ID",i[a].hint="Profile ID",i[a].enabled=!0,i[a].showme=!1,i[a].required=!1,a++,i[a]=new b.b(a,"emailVerified",!1,b.a.slidetoggle),i[a].placeholder="Email verified",i[a].enabled=!0,i[a].showme=!!this.yauthservice.isAdmin(),i[a].required=!1,a++,i[a]=new b.b(a,"mobileVerified",!1,b.a.slidetoggle),i[a].placeholder="Mobile verified",i[a].enabled=!0,i[a].showme=!!this.yauthservice.isAdmin(),i[a].required=!1,a++,i[a]=new b.b(a,"approved",!1,b.a.slidetoggle),i[a].placeholder="Approved",i[a].enabled=!0,i[a].showme=!!this.yauthservice.isAdmin(),i[a].required=!1,a++,i[a]=new b.b(a,"paid",!1,b.a.slidetoggle),i[a].placeholder="Paid",i[a].enabled=!0,i[a].showme=!!this.yauthservice.isAdmin(),i[a].required=!1,a++,i[a]=new b.b(a,"isadmin",!1,b.a.slidetoggle),i[a].placeholder="Is A Admin",i[a].enabled=!0,i[a].showme=!!this.yauthservice.isAdmin(),i[a].required=!1,a++,i[a]=new b.b(a,"createdBy",!1,b.a.text),i[a].placeholder="createdBy",i[a].enabled=!1,i[a].showme=!!this.yauthservice.isAdmin(),i[a].required=!1,a++,i[a]=new b.b(a,"updatedBy",!1,b.a.text),i[a].placeholder="updatedBy",i[a].enabled=!1,i[a].showme=!!this.yauthservice.isAdmin(),i[a].required=!1,e&&(a++,i[a]=new b.b(a,"key",e.key,b.a.text),i[a].enabled=!1,i[a].showme=!1,i[a].required=!1),i.forEach(i=>{if(e){const a=e[i.name];i.whattype!==b.a.radio&&i.whattype!==b.a.select?(i.value=a,i.whattype==b.a.date&&a&&(i.value=new Date(a))):i.value.selected=a.hasOwnProperty("selected")?a.selected:a,t.set(i.name,i)}else t.set(i.name,i)}),this.inwhatformgroup=this.yobuilderservice.createFormGroup(t),this.whatcontrolsmap=this.yobuilderservice.createMap(t,this.inwhatformgroup);let r="Register User";e&&(r="Save User");let n=new o.a("Cancel","cancel","cancel_presentation","secondary",!1),s=new o.a(r,"register","lock_open","primary",!1);this.mybuttons.set("Action2",s),this.mybuttons.set("Action1",n),this.clear=!0}randomletter(){return"ABCDEFGHIJKLMNOPQURSTUVWXYZ".split("")[Math.floor(26*Math.random())]}send(e){console.log("capturing events",e),Object.keys(e.data.value).forEach(t=>{let i=e.data.value[t];i.hasOwnProperty("selected")&&i.hasOwnProperty("options")&&(e.data.value[t]=i.selected)}),this.overrideiamge.length>0&&this.ygen.isLoggedIn()&&this.ygen.isAdmin()&&Object.assign(e.data.value,{photo:this.overrideiamge}),Object.assign(e.data.value,{verifiedmember:!1}),this.edittenant?this.ydataservice.updateMartimonialProfile(e.data.value):this.yauthservice.isLoggedIn()?this.registerNewUserBy(e.data.value):this.registerNewUser(e.data.value)}cancel(e){console.log("canceling events",e),this.clear=!1,this.edittenant&&this.ygen.isTenantSelection()?this.router.navigateByUrl("/profileapproval"):this.router.navigateByUrl("/shoplanding")}registerNewUserBy(e){console.log("capturing events",event),Object.assign(e,{createdBy:this.yauthservice.getCurrentUserId(),uid:this.yauthservice.getCurrentUserId()}),this.ydataservice.addMartimonialProfile(e)}isItOwner(){return!(!this.edittenant||!this.edittenant.createdBy)&&this.ygen.isItOwner(this.edittenant.createdBy)}registerNewUser(e){this.yauthservice.registerMatrimonialProfile(e).subscribe(e=>{console.log(e)})}isTenantSelection(){return this.ystorageservice.isTenantSelection()}ionViewDidLeave(){console.log("leaving"),this.ystorageservice.removeItem(w.a.SELECTED_TENANT)}setTempdata(e){console.log(e);let t=JSON.parse(e.target.value),i=""+t.dob.month;1==i.length&&(i="0"+i);let a=""+t.dob.date;1==a.length&&(a="0"+a);let r=y(t.dob.year+"-"+i+"-"+a);this.newuser={userid:t.email,password:"123456",aboutfamily:"",addedby:"SELF",address:"",approved:!1,city:t.city,country:"INDIA",dob:+r,education:t.education,emailVerified:!1,employeed:t.employeed,expectation:"",featured:!1,firstname:t.fname,gender:"MALE",gotra:"",heightfeet:"5",heightinches:"7",isadmin:!1,lastname:t.sname,maritialstatus:"NEVER MARRIED",middlename:t.mname,mobileVerified:!1,nativecity:"",nickname:t.nname,paid:!1,phoneNumber:t.phone,photo:t.imageUrl,profession:"",professionaldeatil:"",profileid:this.randomletter()+this.randomletter()+~~(1e3*Math.random()),salary:"",state:"",zip:"",userName:t.fname+" "+t.sname},console.log("yeah",this.newuser)}doit(){this.newuser&&this.registerNewUser(this.newuser)}}return e.\u0275fac=function(t){return new(t||e)(f.Qb(l.a),f.Qb(c.a),f.Qb(d.a),f.Qb(h.a),f.Qb(u.d),f.Qb(p.a),f.Qb(m.a),f.Qb(w.a),f.Qb(n.g),f.Qb(n.a),f.Qb(f.A),f.Qb(g.a))},e.\u0275cmp=f.Kb({type:e,selectors:[["app-register"]],decls:16,vars:7,consts:[[3,"color"],["slot","start"],["align-items-center","","text-center","",4,"ngIf"],[1,"box"],[3,"captchaOn","captchaName","whatform","whatformgroup","whichbuttons","actionEvent","cancelEvent",4,"ngIf"],["align-items-center","","text-center",""],["position","stacked"],["type","url","value","",3,"ionInput"],[3,"formGroup"],["type","password","formControlName","newpassword","clearInput","true","required","true","value",""],["type","password","formControlName","confirmpassword","clearInput","true","required","true","value",""],["color","danger"],["padding-left","",3,"hidden"],["expand","block","fill","outline",3,"disabled","click"],[3,"captchaOn","captchaName","whatform","whatformgroup","whichbuttons","actionEvent","cancelEvent"]],template:function(e,t){1&e&&(f.Wb(0,"ion-header"),f.Wb(1,"ion-toolbar",0),f.Wb(2,"ion-buttons",1),f.Rb(3,"ion-menu-button"),f.Vb(),f.Wb(4,"ion-title"),f.Lc(5),f.jc(6,"translate"),f.Vb(),f.Vb(),f.Vb(),f.Wb(7,"ion-content"),f.Wb(8,"ion-grid"),f.Jc(9,I,6,0,"ion-row",2),f.Jc(10,P,19,3,"ion-row",2),f.Wb(11,"ion-row"),f.Wb(12,"ion-col"),f.Wb(13,"mat-card"),f.Wb(14,"mat-card-content",3),f.Jc(15,W,1,5,"yogagainv2-dyanamic-page",4),f.Vb(),f.Vb(),f.Vb(),f.Vb(),f.Vb(),f.Vb()),2&e&&(f.Db(1),f.rc("color",t.isTenantSelection()?"primary":"secondary"),f.Db(4),f.Mc(f.kc(6,5,t.title)),f.Db(4),f.rc("ngIf",t.ygen.isLoggedIn()&&t.ygen.isAdmin()),f.Db(1),f.rc("ngIf",t.ygen.isLoggedIn()&&t.isItOwner()),f.Db(5),f.rc("ngIf",t.clear))},directives:[s.v,s.ab,s.j,s.G,s.Y,s.s,s.u,a.m,s.K,s.r,v.a,v.d,s.y,s.C,s.x,s.mb,r.v,r.o,r.h,r.n,r.f,r.t,s.V,s.i,V.a],pipes:[E.c],styles:[""]}),e})();function A(e){return e.controls.newpassword.value===e.controls.confirmpassword.value?null:{passwordsNotEqual:!0}}var L=i("hVaU"),q=i("4pxM"),O=i("IZvt");const x=[{path:"",component:N}];let C=(()=>{class e{}return e.\u0275mod=f.Ob({type:e}),e.\u0275inj=f.Nb({factory:function(t){return new(t||e)},imports:[[a.c,r.i,r.s,s.bb,L.a,q.a,O.a,n.k.forChild(x)]]}),e})()}}]);