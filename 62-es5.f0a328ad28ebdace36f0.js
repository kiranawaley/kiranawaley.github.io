function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{fhSy:function(e,t,i){"use strict";i.r(t),i.d(t,"RegisterPageModule",(function(){return D}));var a=i("ofXK"),r=i("3Pt+"),n=i("tyNb"),o=i("TEn/"),s=i("D+2S"),c=i("sH8K"),l=i("DzsY"),d=i("0nTO"),u=i("+DAS"),h=i("DVUX"),b=i("mLjM"),p=i("PWOX"),m=i("gAVi"),w=i("YKLQ"),f=i("rIxz"),v=i("wd/R"),y=i("fXoL"),g=i("Wp6s"),V=i("iEmi"),P=i("sYmb");function E(e,t){if(1&e){var i=y.Xb();y.Wb(0,"ion-row",5),y.Wb(1,"ion-col"),y.Wb(2,"ion-item"),y.Wb(3,"ion-label",6),y.Mc(4,"Profile Image URL"),y.Vb(),y.Wb(5,"ion-input",7),y.ec("ionInput",(function(e){return y.Cc(i),y.ic().setimageurl(e)})),y.Vb(),y.Vb(),y.Vb(),y.Vb()}}function I(e,t){if(1&e){var i=y.Xb();y.Wb(0,"ion-row",5),y.Wb(1,"form",8),y.Wb(2,"h3"),y.Mc(3,"Change your current password"),y.Vb(),y.Wb(4,"ion-col"),y.Wb(5,"ion-item"),y.Wb(6,"ion-label",6),y.Mc(7,"New Password"),y.Vb(),y.Rb(8,"ion-input",9),y.Vb(),y.Wb(9,"ion-item"),y.Wb(10,"ion-label",6),y.Mc(11,"Confirm Password"),y.Vb(),y.Rb(12,"ion-input",10),y.Vb(),y.Wb(13,"ion-text",11),y.Wb(14,"p",12),y.Mc(15," Confirm Password is not matching with new Password "),y.Vb(),y.Vb(),y.Wb(16,"ion-item"),y.Wb(17,"ion-button",13),y.ec("click",(function(){return y.Cc(i),y.ic().updatepassword()})),y.Mc(18,"Set New Password"),y.Vb(),y.Vb(),y.Vb(),y.Vb(),y.Vb()}if(2&e){var a=y.ic();y.Db(1),y.rc("formGroup",a.userpassword),y.Db(13),y.rc("hidden",!(a.userpassword.errors&&a.userpassword.errors.passwordsNotEqual&&a.userpassword.controls.confirmpassword.touched)),y.Db(3),y.rc("disabled",!a.userpassword.valid)}}function k(e,t){if(1&e){var i=y.Xb();y.Wb(0,"yogagainv2-dyanamic-page",14),y.ec("actionEvent",(function(e){return y.Cc(i),y.ic().send(e)}))("cancelEvent",(function(e){return y.Cc(i),y.ic().cancel(e)})),y.Vb()}if(2&e){var a=y.ic();y.rc("captchaOn",a.needcaptcha)("captchaName","registercaptcha")("whatform",a.whatcontrolsmap)("whatformgroup",a.inwhatformgroup)("whichbuttons",a.mybuttons)}}var W,N=((W=function(){function e(t,i,a,n,o,s,c,l,d,u,h,b){_classCallCheck(this,e),this.yovalservice=t,this.yobuilderservice=i,this.ynotification=a,this.ydataservice=n,this.toasterService=o,this.yauthservice=s,this.ystorageservice=c,this.ydatashareservice=l,this.router=d,this.route=u,this.zone=h,this.ygen=b,this.overrideiamge="",this.whatcontrolsmap=new Map,this.clear=!1,this.needcaptcha=!1,this.title="Register Profile",this.mybuttons=new Map,this.loadingindicator=!1,this.userpassword=new r.g({newpassword:new r.d("",r.u.compose([r.u.required,r.u.maxLength(20)])),confirmpassword:new r.d("",r.u.compose([r.u.required,r.u.maxLength(20)]))},{validators:C}),this.ynotification.registertoken(),location}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"callform",value:function(){console.log(this.userpassword)}},{key:"updatepassword",value:function(){this.yauthservice.updateCurrentPassword(this.userpassword.value.newpassword)}},{key:"setimageurl",value:function(e){this.overrideiamge=e.target.value}},{key:"ionViewWillEnter",value:function(){var e=this;this.newuser=null,this.clear=!1,this.edittenant=void 0;var t=this.route.snapshot.paramMap.get("id");this.zone.run((function(){t?(e.needcaptcha=!1,e.ydataservice.retrivedata("/profiles",t).subscribe((function(t){e.edittenant=t,e.startObject(e.edittenant)}))):(e.needcaptcha=!0,e.startObject(e.edittenant))}))}},{key:"startObject",value:function(e){e&&(this.title="Edit Profile");var t=new Map,i=[],a=0;i[a]=new b.b(a,"photo","https://res.cloudinary.com/ideasyogi/image/upload/v1589964651/default_qkhcdj.jpg",b.a.image),i[a].placeholder="Profile Picture",i[a].required=!0,a++,this.yauthservice.isLoggedIn()||(i[a]=new b.b(a,"userid","",b.a.email),i[a].placeholder="Enter Profile Email",i[a].hint="It will be Profile user Name",i[a].enabled=!0,i[a].showme=!0,i[++a]=new b.b(a,"password","",b.a.password),i[a].placeholder="Enter Profile Password",i[a].hint="Its Profile 6 digit password",a++),i[a]=new b.b(a,"userName","",b.a.text),i[a].placeholder="Enter Your Name",i[++a]=new b.b(a,"mobile","",b.a.phone),i[a].placeholder="Enter Profile Phone",i[++a]=new b.b(a,"unitName","",b.a.text),i[a].placeholder="Building / House name",i[a].required=!0,i[a].showme=!0,i[++a]=new b.b(a,"address","",b.a.textarea),i[a].placeholder="Address",i[a].enabled=!0,i[a].required=!0,i[a].showme=!0,i[++a]=new b.b(a,"city","",b.a.text),i[a].placeholder="Enter Profile City you live in",i[a].hint="The city you will live in",i[a].enabled=!0,i[a].required=!0,i[a].showme=!0,i[++a]=new b.b(a,"zip","",b.a.number),i[a].placeholder="Enter Zip for City you live in",i[a].hint="Enter Zip for City you live in",i[a].enabled=!0,i[a].required=!0,i[a].showme=!0,i[++a]=new b.b(a,"state","",b.a.text),i[a].placeholder="Enter your state",i[a].hint="Enter State you leave in",i[a].enabled=!0,i[a].required=!0,i[a].showme=!0,i[++a]=new b.b(a,"country","INDIA",b.a.text),i[a].placeholder="Enter Profile Country",i[a].enabled=!0,i[a].required=!0,i[a].showme=!0,i[++a]=new b.b(a,"profileid",this.randomletter()+this.randomletter()+~~(1e3*Math.random()),b.a.text),i[a].placeholder="Profile ID",i[a].hint="Profile ID",i[a].enabled=!0,i[a].showme=!1,i[a].required=!1,i[++a]=new b.b(a,"emailVerified",!1,b.a.slidetoggle),i[a].placeholder="Email verified",i[a].enabled=!0,i[a].showme=!!this.yauthservice.isAdmin(),i[a].required=!1,i[++a]=new b.b(a,"mobileVerified",!1,b.a.slidetoggle),i[a].placeholder="Mobile verified",i[a].enabled=!0,i[a].showme=!!this.yauthservice.isAdmin(),i[a].required=!1,i[++a]=new b.b(a,"approved",!1,b.a.slidetoggle),i[a].placeholder="Approved",i[a].enabled=!0,i[a].showme=!!this.yauthservice.isAdmin(),i[a].required=!1,i[++a]=new b.b(a,"paid",!1,b.a.slidetoggle),i[a].placeholder="Paid",i[a].enabled=!0,i[a].showme=!!this.yauthservice.isAdmin(),i[a].required=!1,i[++a]=new b.b(a,"isadmin",!1,b.a.slidetoggle),i[a].placeholder="Is A Admin",i[a].enabled=!0,i[a].showme=!!this.yauthservice.isAdmin(),i[a].required=!1,i[++a]=new b.b(a,"createdBy",!1,b.a.text),i[a].placeholder="createdBy",i[a].enabled=!1,i[a].showme=!!this.yauthservice.isAdmin(),i[a].required=!1,i[++a]=new b.b(a,"updatedBy",!1,b.a.text),i[a].placeholder="updatedBy",i[a].enabled=!1,i[a].showme=!!this.yauthservice.isAdmin(),i[a].required=!1,e&&(i[++a]=new b.b(a,"key",e.key,b.a.text),i[a].enabled=!1,i[a].showme=!1,i[a].required=!1),i.forEach((function(i){if(e){var a=e[i.name];i.whattype!==b.a.radio&&i.whattype!==b.a.select?(i.value=a,i.whattype==b.a.date&&a&&(i.value=new Date(a))):i.value.selected=a.hasOwnProperty("selected")?a.selected:a,t.set(i.name,i)}else t.set(i.name,i)})),this.inwhatformgroup=this.yobuilderservice.createFormGroup(t),this.whatcontrolsmap=this.yobuilderservice.createMap(t,this.inwhatformgroup);var r="Register User";e&&(r="Save User");var n=new s.a("Cancel","cancel","cancel_presentation","secondary",!1),o=new s.a(r,"register","lock_open","primary",!1);this.mybuttons.set("Action2",o),this.mybuttons.set("Action1",n),this.clear=!0}},{key:"randomletter",value:function(){return"ABCDEFGHIJKLMNOPQURSTUVWXYZ".split("")[Math.floor(26*Math.random())]}},{key:"send",value:function(e){console.log("capturing events",e),Object.keys(e.data.value).forEach((function(t){var i=e.data.value[t];i.hasOwnProperty("selected")&&i.hasOwnProperty("options")&&(e.data.value[t]=i.selected)})),this.overrideiamge.length>0&&this.ygen.isLoggedIn()&&this.ygen.isAdmin()&&Object.assign(e.data.value,{photo:this.overrideiamge}),Object.assign(e.data.value,{verifiedmember:!1}),this.edittenant?this.ydataservice.updateMartimonialProfile(e.data.value):this.yauthservice.isLoggedIn()?this.registerNewUserBy(e.data.value):this.registerNewUser(e.data.value)}},{key:"cancel",value:function(e){console.log("canceling events",e),this.clear=!1,this.edittenant&&this.ygen.isTenantSelection()?this.router.navigateByUrl("/profileapproval"):this.router.navigateByUrl("/shoplanding")}},{key:"registerNewUserBy",value:function(e){console.log("capturing events",event),Object.assign(e,{createdBy:this.yauthservice.getCurrentUserId(),uid:this.yauthservice.getCurrentUserId()}),this.ydataservice.addMartimonialProfile(e)}},{key:"isItOwner",value:function(){return!(!this.edittenant||!this.edittenant.createdBy)&&this.ygen.isItOwner(this.edittenant.createdBy)}},{key:"registerNewUser",value:function(e){this.yauthservice.registerMatrimonialProfile(e).subscribe((function(e){console.log(e)}))}},{key:"isTenantSelection",value:function(){return this.ystorageservice.isTenantSelection()}},{key:"ionViewDidLeave",value:function(){console.log("leaving"),this.ystorageservice.removeItem(w.a.SELECTED_TENANT)}},{key:"setTempdata",value:function(e){console.log(e);var t=JSON.parse(e.target.value),i=""+t.dob.month;1==i.length&&(i="0"+i);var a=""+t.dob.date;1==a.length&&(a="0"+a);var r=v(t.dob.year+"-"+i+"-"+a);this.newuser={userid:t.email,password:"123456",aboutfamily:"",addedby:"SELF",address:"",approved:!1,city:t.city,country:"INDIA",dob:+r,education:t.education,emailVerified:!1,employeed:t.employeed,expectation:"",featured:!1,firstname:t.fname,gender:"MALE",gotra:"",heightfeet:"5",heightinches:"7",isadmin:!1,lastname:t.sname,maritialstatus:"NEVER MARRIED",middlename:t.mname,mobileVerified:!1,nativecity:"",nickname:t.nname,paid:!1,phoneNumber:t.phone,photo:t.imageUrl,profession:"",professionaldeatil:"",profileid:this.randomletter()+this.randomletter()+~~(1e3*Math.random()),salary:"",state:"",zip:"",userName:t.fname+" "+t.sname},console.log("yeah",this.newuser)}},{key:"doit",value:function(){this.newuser&&this.registerNewUser(this.newuser)}}]),e}()).\u0275fac=function(e){return new(e||W)(y.Qb(c.a),y.Qb(l.a),y.Qb(d.a),y.Qb(u.a),y.Qb(h.d),y.Qb(p.a),y.Qb(m.a),y.Qb(w.a),y.Qb(n.j),y.Qb(n.a),y.Qb(y.A),y.Qb(f.a))},W.\u0275cmp=y.Kb({type:W,selectors:[["app-register"]],decls:16,vars:7,consts:[[3,"color"],["slot","start"],["align-items-center","","text-center","",4,"ngIf"],[1,"box"],[3,"captchaOn","captchaName","whatform","whatformgroup","whichbuttons","actionEvent","cancelEvent",4,"ngIf"],["align-items-center","","text-center",""],["position","stacked"],["type","url","value","",3,"ionInput"],[3,"formGroup"],["type","password","formControlName","newpassword","clearInput","true","required","true","value",""],["type","password","formControlName","confirmpassword","clearInput","true","required","true","value",""],["color","danger"],["padding-left","",3,"hidden"],["expand","block","fill","outline",3,"disabled","click"],[3,"captchaOn","captchaName","whatform","whatformgroup","whichbuttons","actionEvent","cancelEvent"]],template:function(e,t){1&e&&(y.Wb(0,"ion-header"),y.Wb(1,"ion-toolbar",0),y.Wb(2,"ion-buttons",1),y.Rb(3,"ion-menu-button"),y.Vb(),y.Wb(4,"ion-title"),y.Mc(5),y.jc(6,"translate"),y.Vb(),y.Vb(),y.Vb(),y.Wb(7,"ion-content"),y.Wb(8,"ion-grid"),y.Kc(9,E,6,0,"ion-row",2),y.Kc(10,I,19,3,"ion-row",2),y.Wb(11,"ion-row"),y.Wb(12,"ion-col"),y.Wb(13,"mat-card"),y.Wb(14,"mat-card-content",3),y.Kc(15,k,1,5,"yogagainv2-dyanamic-page",4),y.Vb(),y.Vb(),y.Vb(),y.Vb(),y.Vb(),y.Vb()),2&e&&(y.Db(1),y.rc("color",t.isTenantSelection()?"primary":"secondary"),y.Db(4),y.Nc(y.kc(6,5,t.title)),y.Db(4),y.rc("ngIf",t.ygen.isLoggedIn()&&t.ygen.isAdmin()),y.Db(1),y.rc("ngIf",t.ygen.isLoggedIn()&&t.isItOwner()),y.Db(5),y.rc("ngIf",t.clear))},directives:[o.y,o.fb,o.j,o.L,o.db,o.s,o.x,a.m,o.P,o.r,g.a,g.d,o.B,o.H,o.A,o.sb,r.v,r.o,r.h,r.n,r.f,r.t,o.ab,o.i,V.a],pipes:[P.c],styles:[""]}),W);function C(e){return e.controls.newpassword.value===e.controls.confirmpassword.value?null:{passwordsNotEqual:!0}}var M,A=i("hVaU"),q=i("4pxM"),O=i("IZvt"),x=[{path:"",component:N}],D=((M=function e(){_classCallCheck(this,e)}).\u0275mod=y.Ob({type:M}),M.\u0275inj=y.Nb({factory:function(e){return new(e||M)},imports:[[a.c,r.i,r.s,o.gb,A.a,q.a,O.a,n.n.forChild(x)]]}),M)}}]);