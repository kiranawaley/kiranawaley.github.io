(window.webpackJsonp=window.webpackJsonp||[]).push([[70],{fhSy:function(e,t,i){"use strict";i.r(t),i.d(t,"RegisterPageModule",(function(){return y}));var r=i("ofXK"),n=i("3Pt+"),a=i("tyNb"),s=i("TEn/"),o=i("OJQs"),c=i("DVUX"),d=i("wd/R"),l=i("fXoL"),h=i("Wp6s"),u=i("sYmb");function p(e,t){if(1&e){const e=l.Xb();l.Wb(0,"ion-row",5),l.Wb(1,"ion-col"),l.Wb(2,"ion-item"),l.Wb(3,"ion-label",6),l.Mc(4,"Profile Image URL"),l.Vb(),l.Wb(5,"ion-input",7),l.ec("ionInput",(function(t){return l.Cc(e),l.ic().setimageurl(t)})),l.Vb(),l.Vb(),l.Vb(),l.Vb()}}function b(e,t){if(1&e){const e=l.Xb();l.Wb(0,"ion-row",5),l.Wb(1,"form",8),l.Wb(2,"h3"),l.Mc(3,"Change your current password"),l.Vb(),l.Wb(4,"ion-col"),l.Wb(5,"ion-item"),l.Wb(6,"ion-label",6),l.Mc(7,"New Password"),l.Vb(),l.Rb(8,"ion-input",9),l.Vb(),l.Wb(9,"ion-item"),l.Wb(10,"ion-label",6),l.Mc(11,"Confirm Password"),l.Vb(),l.Rb(12,"ion-input",10),l.Vb(),l.Wb(13,"ion-text",11),l.Wb(14,"p",12),l.Mc(15," Confirm Password is not matching with new Password "),l.Vb(),l.Vb(),l.Wb(16,"ion-item"),l.Wb(17,"ion-button",13),l.ec("click",(function(){return l.Cc(e),l.ic().updatepassword()})),l.Mc(18,"Set New Password"),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb()}if(2&e){const e=l.ic();l.Db(1),l.rc("formGroup",e.userpassword),l.Db(13),l.rc("hidden",!(e.userpassword.errors&&e.userpassword.errors.passwordsNotEqual&&e.userpassword.controls.confirmpassword.touched)),l.Db(3),l.rc("disabled",!e.userpassword.valid)}}function m(e,t){if(1&e){const e=l.Xb();l.Wb(0,"yogagainv2-dyanamic-page",14),l.ec("actionEvent",(function(t){return l.Cc(e),l.ic().send(t)}))("cancelEvent",(function(t){return l.Cc(e),l.ic().cancel(t)})),l.Vb()}if(2&e){const e=l.ic();l.rc("captchaOn",e.needcaptcha)("captchaName","registercaptcha")("whatform",e.whatcontrolsmap)("whatformgroup",e.inwhatformgroup)("whichbuttons",e.mybuttons)}}function w(e){return e.controls.newpassword.value===e.controls.confirmpassword.value?null:{passwordsNotEqual:!0}}const g=[{path:"",component:(()=>{class e{constructor(e,t,i,r,a,s,o,c,d,l,h,u){this.yovalservice=e,this.yobuilderservice=t,this.ynotification=i,this.ydataservice=r,this.toasterService=a,this.yauthservice=s,this.ystorageservice=o,this.ydatashareservice=c,this.router=d,this.route=l,this.zone=h,this.ygen=u,this.overrideiamge="",this.whatcontrolsmap=new Map,this.clear=!1,this.needcaptcha=!1,this.title="Register Profile",this.mybuttons=new Map,this.loadingindicator=!1,this.userpassword=new n.h({newpassword:new n.e("",n.y.compose([n.y.required,n.y.maxLength(20)])),confirmpassword:new n.e("",n.y.compose([n.y.required,n.y.maxLength(20)]))},{validators:w}),this.ynotification.registertoken(),location}ngOnInit(){}callform(){console.log(this.userpassword)}updatepassword(){this.yauthservice.updateCurrentPassword(this.userpassword.value.newpassword)}setimageurl(e){this.overrideiamge=e.target.value}ionViewWillEnter(){this.newuser=null,this.clear=!1,this.edittenant=void 0;const e=this.route.snapshot.paramMap.get("id");this.zone.run(()=>{e?(this.needcaptcha=!1,this.ydataservice.retrivedata("/profiles",e).subscribe(e=>{this.edittenant=e,this.startObject(this.edittenant)})):(this.needcaptcha=!0,this.startObject(this.edittenant))})}startObject(e){e&&(this.title="Edit Profile");let t=new Map,i=[],r=0;i[r]=new o.W(r,"photo","https://res.cloudinary.com/ideasyogi/image/upload/v1589964651/default_qkhcdj.jpg",o.V.image),i[r].placeholder="Profile Picture",i[r].required=!0,r++,this.yauthservice.isLoggedIn()||(i[r]=new o.W(r,"userid","",o.V.email),i[r].placeholder="Enter Profile Email",i[r].hint="It will be Profile user Name",i[r].enabled=!0,i[r].showme=!0,r++,i[r]=new o.W(r,"password","",o.V.password),i[r].placeholder="Enter Profile Password",i[r].hint="Its Profile 6 digit password",r++),i[r]=new o.W(r,"userName","",o.V.text),i[r].placeholder="Enter Your Name",r++,i[r]=new o.W(r,"mobile","",o.V.phone),i[r].placeholder="Enter Profile Phone",r++,i[r]=new o.W(r,"unitName","",o.V.text),i[r].placeholder="Building / House name",i[r].required=!0,i[r].showme=!0,r++,i[r]=new o.W(r,"address","",o.V.textarea),i[r].placeholder="Address",i[r].enabled=!0,i[r].required=!0,i[r].showme=!0,r++,i[r]=new o.W(r,"city","",o.V.text),i[r].placeholder="Enter Profile City you live in",i[r].hint="The city you will live in",i[r].enabled=!0,i[r].required=!0,i[r].showme=!0,r++,i[r]=new o.W(r,"zip","",o.V.number),i[r].placeholder="Enter Zip for City you live in",i[r].hint="Enter Zip for City you live in",i[r].enabled=!0,i[r].required=!0,i[r].showme=!0,r++,i[r]=new o.W(r,"state","",o.V.text),i[r].placeholder="Enter your state",i[r].hint="Enter State you leave in",i[r].enabled=!0,i[r].required=!0,i[r].showme=!0,r++,i[r]=new o.W(r,"country",o.T.currentcountry,o.V.country),i[r].placeholder="Enter Profile Country",i[r].enabled=!0,i[r].required=!0,i[r].showme=!0,r++,i[r]=new o.W(r,"profileid",this.randomletter()+this.randomletter()+~~(1e3*Math.random()),o.V.text),i[r].placeholder="Profile ID",i[r].hint="Profile ID",i[r].enabled=!0,i[r].showme=!1,i[r].required=!1,r++,i[r]=new o.W(r,"emailVerified",!1,o.V.slidetoggle),i[r].placeholder="Email verified",i[r].enabled=!0,i[r].showme=!!this.yauthservice.isAdmin(),i[r].required=!1,r++,i[r]=new o.W(r,"mobileVerified",!1,o.V.slidetoggle),i[r].placeholder="Mobile verified",i[r].enabled=!0,i[r].showme=!!this.yauthservice.isAdmin(),i[r].required=!1,r++,i[r]=new o.W(r,"approved",!1,o.V.slidetoggle),i[r].placeholder="Approved",i[r].enabled=!0,i[r].showme=!!this.yauthservice.isAdmin(),i[r].required=!1,r++,i[r]=new o.W(r,"paid",!1,o.V.slidetoggle),i[r].placeholder="Paid",i[r].enabled=!0,i[r].showme=!!this.yauthservice.isAdmin(),i[r].required=!1,r++,i[r]=new o.W(r,"isadmin",!1,o.V.slidetoggle),i[r].placeholder="Is A Admin",i[r].enabled=!0,i[r].showme=!!this.yauthservice.isAdmin(),i[r].required=!1,r++,i[r]=new o.W(r,"createdBy",!1,o.V.text),i[r].placeholder="createdBy",i[r].enabled=!1,i[r].showme=!!this.yauthservice.isAdmin(),i[r].required=!1,r++,i[r]=new o.W(r,"updatedBy",!1,o.V.text),i[r].placeholder="updatedBy",i[r].enabled=!1,i[r].showme=!!this.yauthservice.isAdmin(),i[r].required=!1,e&&(r++,i[r]=new o.W(r,"key",e.key,o.V.text),i[r].enabled=!1,i[r].showme=!1,i[r].required=!1),i.forEach(i=>{if(e){const r=e[i.name];i.whattype!==o.V.radio&&i.whattype!==o.V.select?(i.value=r,i.whattype==o.V.date&&r&&(i.value=new Date(r))):i.value.selected=r.hasOwnProperty("selected")?r.selected:r,t.set(i.name,i)}else t.set(i.name,i)}),this.inwhatformgroup=this.yobuilderservice.createFormGroup(t),this.whatcontrolsmap=this.yobuilderservice.createMap(t,this.inwhatformgroup);let n="Register User";e&&(n="Save User");let a=new o.A("Cancel","cancel","cancel_presentation","secondary",!1),s=new o.A(n,"register","lock_open","primary",!1);this.mybuttons.set("Action2",s),this.mybuttons.set("Action1",a),this.clear=!0}randomletter(){return"ABCDEFGHIJKLMNOPQURSTUVWXYZ".split("")[Math.floor(26*Math.random())]}send(e){console.log("capturing events",e),Object.keys(e.data.value).forEach(t=>{let i=e.data.value[t];i.hasOwnProperty("selected")&&i.hasOwnProperty("options")&&(e.data.value[t]=i.selected)}),this.overrideiamge.length>0&&this.ygen.isLoggedIn()&&this.ygen.isAdmin()&&Object.assign(e.data.value,{photo:this.overrideiamge}),Object.assign(e.data.value,{verifiedmember:!1}),this.edittenant?this.ydataservice.updateMartimonialProfile(e.data.value):this.yauthservice.isLoggedIn()?this.registerNewUserBy(e.data.value):this.registerNewUser(e.data.value)}cancel(e){console.log("canceling events",e),this.clear=!1,this.edittenant&&this.ygen.isTenantSelection()?this.router.navigateByUrl("/shoplanding"):this.router.navigateByUrl("/tenants")}registerNewUserBy(e){console.log("capturing events",event),Object.assign(e,{createdBy:this.yauthservice.getCurrentUserId(),uid:this.yauthservice.getCurrentUserId()}),this.ydataservice.addMartimonialProfile(e)}isItOwner(){return!(!this.edittenant||!this.edittenant.createdBy)&&this.ygen.isItOwner(this.edittenant.createdBy)}registerNewUser(e){this.yauthservice.registerMatrimonialProfile(e).subscribe(e=>{console.log(e)})}isTenantSelection(){return this.ystorageservice.isTenantSelection()}ionViewDidLeave(){console.log("leaving"),this.ystorageservice.removeItem(o.R.SELECTED_TENANT)}setTempdata(e){console.log(e);let t=JSON.parse(e.target.value),i=""+t.dob.month;1==i.length&&(i="0"+i);let r=""+t.dob.date;1==r.length&&(r="0"+r);let n=d(t.dob.year+"-"+i+"-"+r);this.newuser={userid:t.email,password:"123456",aboutfamily:"",addedby:"SELF",address:"",approved:!1,city:t.city,country:"INDIA",dob:+n,education:t.education,emailVerified:!1,employeed:t.employeed,expectation:"",featured:!1,firstname:t.fname,gender:"MALE",gotra:"",heightfeet:"5",heightinches:"7",isadmin:!1,lastname:t.sname,maritialstatus:"NEVER MARRIED",middlename:t.mname,mobileVerified:!1,nativecity:"",nickname:t.nname,paid:!1,phoneNumber:t.phone,photo:t.imageUrl,profession:"",professionaldeatil:"",profileid:this.randomletter()+this.randomletter()+~~(1e3*Math.random()),salary:"",state:"",zip:"",userName:t.fname+" "+t.sname},console.log("yeah",this.newuser)}doit(){this.newuser&&this.registerNewUser(this.newuser)}}return e.\u0275fac=function(t){return new(t||e)(l.Qb(o.fb),l.Qb(o.S),l.Qb(o.U),l.Qb(o.Q),l.Qb(c.d),l.Qb(o.M),l.Qb(o.db),l.Qb(o.R),l.Qb(a.j),l.Qb(a.a),l.Qb(l.A),l.Qb(o.T))},e.\u0275cmp=l.Kb({type:e,selectors:[["app-register"]],decls:16,vars:7,consts:[[3,"color"],["slot","start"],["align-items-center","","text-center","",4,"ngIf"],[1,"box"],[3,"captchaOn","captchaName","whatform","whatformgroup","whichbuttons","actionEvent","cancelEvent",4,"ngIf"],["align-items-center","","text-center",""],["position","stacked"],["type","url","value","",3,"ionInput"],[3,"formGroup"],["type","password","formControlName","newpassword","clearInput","true","required","true","value",""],["type","password","formControlName","confirmpassword","clearInput","true","required","true","value",""],["color","danger"],["padding-left","",3,"hidden"],["expand","block","fill","outline",3,"disabled","click"],[3,"captchaOn","captchaName","whatform","whatformgroup","whichbuttons","actionEvent","cancelEvent"]],template:function(e,t){1&e&&(l.Wb(0,"ion-header"),l.Wb(1,"ion-toolbar",0),l.Wb(2,"ion-buttons",1),l.Rb(3,"ion-menu-button"),l.Vb(),l.Wb(4,"ion-title"),l.Mc(5),l.jc(6,"translate"),l.Vb(),l.Vb(),l.Vb(),l.Wb(7,"ion-content"),l.Wb(8,"ion-grid"),l.Kc(9,p,6,0,"ion-row",2),l.Kc(10,b,19,3,"ion-row",2),l.Wb(11,"ion-row"),l.Wb(12,"ion-col"),l.Wb(13,"mat-card"),l.Wb(14,"mat-card-content",3),l.Kc(15,m,1,5,"yogagainv2-dyanamic-page",4),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb()),2&e&&(l.Db(1),l.rc("color",t.isTenantSelection()?"primary":"secondary"),l.Db(4),l.Nc(l.kc(6,5,t.title)),l.Db(4),l.rc("ngIf",t.ygen.isLoggedIn()&&t.ygen.isAdmin()),l.Db(1),l.rc("ngIf",t.ygen.isLoggedIn()&&t.isItOwner()),l.Db(5),l.rc("ngIf",t.clear))},directives:[s.y,s.hb,s.j,s.N,s.fb,s.s,s.x,r.m,s.R,s.r,h.a,h.c,s.D,s.J,s.C,s.ub,n.A,n.q,n.i,n.p,n.g,n.w,s.cb,s.i,o.q],pipes:[u.c],styles:[""]}),e})()}];let y=(()=>{class e{}return e.\u0275mod=l.Ob({type:e}),e.\u0275inj=l.Nb({factory:function(t){return new(t||e)},imports:[[r.c,n.j,n.v,s.ib,o.H,o.b,o.o,a.n.forChild(g)]]}),e})()}}]);