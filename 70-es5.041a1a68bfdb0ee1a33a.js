function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[70],{fhSy:function(e,t,i){"use strict";i.r(t),i.d(t,"RegisterPageModule",(function(){return g}));var r=i("ofXK"),n=i("3Pt+"),a=i("tyNb"),o=i("TEn/"),s=i("OJQs"),c=i("DVUX"),l=i("wd/R"),d=i("fXoL"),u=i("Wp6s"),h=i("sYmb");function p(e,t){if(1&e){var i=d.Xb();d.Wb(0,"ion-row",5),d.Wb(1,"ion-col"),d.Wb(2,"ion-item"),d.Wb(3,"ion-label",6),d.Mc(4,"Profile Image URL"),d.Vb(),d.Wb(5,"ion-input",7),d.ec("ionInput",(function(e){return d.Cc(i),d.ic().setimageurl(e)})),d.Vb(),d.Vb(),d.Vb(),d.Vb()}}function b(e,t){if(1&e){var i=d.Xb();d.Wb(0,"ion-row",5),d.Wb(1,"form",8),d.Wb(2,"h3"),d.Mc(3,"Change your current password"),d.Vb(),d.Wb(4,"ion-col"),d.Wb(5,"ion-item"),d.Wb(6,"ion-label",6),d.Mc(7,"New Password"),d.Vb(),d.Rb(8,"ion-input",9),d.Vb(),d.Wb(9,"ion-item"),d.Wb(10,"ion-label",6),d.Mc(11,"Confirm Password"),d.Vb(),d.Rb(12,"ion-input",10),d.Vb(),d.Wb(13,"ion-text",11),d.Wb(14,"p",12),d.Mc(15," Confirm Password is not matching with new Password "),d.Vb(),d.Vb(),d.Wb(16,"ion-item"),d.Wb(17,"ion-button",13),d.ec("click",(function(){return d.Cc(i),d.ic().updatepassword()})),d.Mc(18,"Set New Password"),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb()}if(2&e){var r=d.ic();d.Db(1),d.rc("formGroup",r.userpassword),d.Db(13),d.rc("hidden",!(r.userpassword.errors&&r.userpassword.errors.passwordsNotEqual&&r.userpassword.controls.confirmpassword.touched)),d.Db(3),d.rc("disabled",!r.userpassword.valid)}}function m(e,t){if(1&e){var i=d.Xb();d.Wb(0,"yogagainv2-dyanamic-page",14),d.ec("actionEvent",(function(e){return d.Cc(i),d.ic().send(e)}))("cancelEvent",(function(e){return d.Cc(i),d.ic().cancel(e)})),d.Vb()}if(2&e){var r=d.ic();d.rc("captchaOn",r.needcaptcha)("captchaName","registercaptcha")("whatform",r.whatcontrolsmap)("whatformgroup",r.inwhatformgroup)("whichbuttons",r.mybuttons)}}function w(e){return e.controls.newpassword.value===e.controls.confirmpassword.value?null:{passwordsNotEqual:!0}}var f,y,v=[{path:"",component:(f=function(){function e(t,i,r,a,o,s,c,l,d,u,h,p){_classCallCheck(this,e),this.yovalservice=t,this.yobuilderservice=i,this.ynotification=r,this.ydataservice=a,this.toasterService=o,this.yauthservice=s,this.ystorageservice=c,this.ydatashareservice=l,this.router=d,this.route=u,this.zone=h,this.ygen=p,this.overrideiamge="",this.whatcontrolsmap=new Map,this.clear=!1,this.needcaptcha=!1,this.title="Register Profile",this.mybuttons=new Map,this.loadingindicator=!1,this.userpassword=new n.h({newpassword:new n.e("",n.y.compose([n.y.required,n.y.maxLength(20)])),confirmpassword:new n.e("",n.y.compose([n.y.required,n.y.maxLength(20)]))},{validators:w}),this.ynotification.registertoken(),location}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"callform",value:function(){console.log(this.userpassword)}},{key:"updatepassword",value:function(){this.yauthservice.updateCurrentPassword(this.userpassword.value.newpassword)}},{key:"setimageurl",value:function(e){this.overrideiamge=e.target.value}},{key:"ionViewWillEnter",value:function(){var e=this;this.newuser=null,this.clear=!1,this.edittenant=void 0;var t=this.route.snapshot.paramMap.get("id");this.zone.run((function(){t?(e.needcaptcha=!1,e.ydataservice.retrivedata("/profiles",t).subscribe((function(t){e.edittenant=t,e.startObject(e.edittenant)}))):(e.needcaptcha=!0,e.startObject(e.edittenant))}))}},{key:"startObject",value:function(e){e&&(this.title="Edit Profile");var t=new Map,i=[],r=0;i[r]=new s.W(r,"photo","https://res.cloudinary.com/ideasyogi/image/upload/v1589964651/default_qkhcdj.jpg",s.V.image),i[r].placeholder="Profile Picture",i[r].required=!0,r++,this.yauthservice.isLoggedIn()||(i[r]=new s.W(r,"userid","",s.V.email),i[r].placeholder="Enter Profile Email",i[r].hint="It will be Profile user Name",i[r].enabled=!0,i[r].showme=!0,i[++r]=new s.W(r,"password","",s.V.password),i[r].placeholder="Enter Profile Password",i[r].hint="Its Profile 6 digit password",r++),i[r]=new s.W(r,"userName","",s.V.text),i[r].placeholder="Enter Your Name",i[++r]=new s.W(r,"mobile","",s.V.phone),i[r].placeholder="Enter Profile Phone",i[++r]=new s.W(r,"unitName","",s.V.text),i[r].placeholder="Building / House name",i[r].required=!0,i[r].showme=!0,i[++r]=new s.W(r,"address","",s.V.textarea),i[r].placeholder="Address",i[r].enabled=!0,i[r].required=!0,i[r].showme=!0,i[++r]=new s.W(r,"city","",s.V.text),i[r].placeholder="Enter Profile City you live in",i[r].hint="The city you will live in",i[r].enabled=!0,i[r].required=!0,i[r].showme=!0,i[++r]=new s.W(r,"zip","",s.V.number),i[r].placeholder="Enter Zip for City you live in",i[r].hint="Enter Zip for City you live in",i[r].enabled=!0,i[r].required=!0,i[r].showme=!0,i[++r]=new s.W(r,"state","",s.V.text),i[r].placeholder="Enter your state",i[r].hint="Enter State you leave in",i[r].enabled=!0,i[r].required=!0,i[r].showme=!0,i[++r]=new s.W(r,"country",s.T.currentcountry,s.V.country),i[r].placeholder="Enter Profile Country",i[r].enabled=!0,i[r].required=!0,i[r].showme=!0,i[++r]=new s.W(r,"profileid",this.randomletter()+this.randomletter()+~~(1e3*Math.random()),s.V.text),i[r].placeholder="Profile ID",i[r].hint="Profile ID",i[r].enabled=!0,i[r].showme=!1,i[r].required=!1,i[++r]=new s.W(r,"emailVerified",!1,s.V.slidetoggle),i[r].placeholder="Email verified",i[r].enabled=!0,i[r].showme=!!this.yauthservice.isAdmin(),i[r].required=!1,i[++r]=new s.W(r,"mobileVerified",!1,s.V.slidetoggle),i[r].placeholder="Mobile verified",i[r].enabled=!0,i[r].showme=!!this.yauthservice.isAdmin(),i[r].required=!1,i[++r]=new s.W(r,"approved",!1,s.V.slidetoggle),i[r].placeholder="Approved",i[r].enabled=!0,i[r].showme=!!this.yauthservice.isAdmin(),i[r].required=!1,i[++r]=new s.W(r,"paid",!1,s.V.slidetoggle),i[r].placeholder="Paid",i[r].enabled=!0,i[r].showme=!!this.yauthservice.isAdmin(),i[r].required=!1,i[++r]=new s.W(r,"isadmin",!1,s.V.slidetoggle),i[r].placeholder="Is A Admin",i[r].enabled=!0,i[r].showme=!!this.yauthservice.isAdmin(),i[r].required=!1,i[++r]=new s.W(r,"createdBy",!1,s.V.text),i[r].placeholder="createdBy",i[r].enabled=!1,i[r].showme=!!this.yauthservice.isAdmin(),i[r].required=!1,i[++r]=new s.W(r,"updatedBy",!1,s.V.text),i[r].placeholder="updatedBy",i[r].enabled=!1,i[r].showme=!!this.yauthservice.isAdmin(),i[r].required=!1,e&&(i[++r]=new s.W(r,"key",e.key,s.V.text),i[r].enabled=!1,i[r].showme=!1,i[r].required=!1),i.forEach((function(i){if(e){var r=e[i.name];i.whattype!==s.V.radio&&i.whattype!==s.V.select?(i.value=r,i.whattype==s.V.date&&r&&(i.value=new Date(r))):i.value.selected=r.hasOwnProperty("selected")?r.selected:r,t.set(i.name,i)}else t.set(i.name,i)})),this.inwhatformgroup=this.yobuilderservice.createFormGroup(t),this.whatcontrolsmap=this.yobuilderservice.createMap(t,this.inwhatformgroup);var n="Register User";e&&(n="Save User");var a=new s.A("Cancel","cancel","cancel_presentation","secondary",!1),o=new s.A(n,"register","lock_open","primary",!1);this.mybuttons.set("Action2",o),this.mybuttons.set("Action1",a),this.clear=!0}},{key:"randomletter",value:function(){return"ABCDEFGHIJKLMNOPQURSTUVWXYZ".split("")[Math.floor(26*Math.random())]}},{key:"send",value:function(e){console.log("capturing events",e),Object.keys(e.data.value).forEach((function(t){var i=e.data.value[t];i.hasOwnProperty("selected")&&i.hasOwnProperty("options")&&(e.data.value[t]=i.selected)})),this.overrideiamge.length>0&&this.ygen.isLoggedIn()&&this.ygen.isAdmin()&&Object.assign(e.data.value,{photo:this.overrideiamge}),Object.assign(e.data.value,{verifiedmember:!1}),this.edittenant?this.ydataservice.updateMartimonialProfile(e.data.value):this.yauthservice.isLoggedIn()?this.registerNewUserBy(e.data.value):this.registerNewUser(e.data.value)}},{key:"cancel",value:function(e){console.log("canceling events",e),this.clear=!1,this.edittenant&&this.ygen.isTenantSelection()?this.router.navigateByUrl("/shoplanding"):this.router.navigateByUrl("/tenants")}},{key:"registerNewUserBy",value:function(e){console.log("capturing events",event),Object.assign(e,{createdBy:this.yauthservice.getCurrentUserId(),uid:this.yauthservice.getCurrentUserId()}),this.ydataservice.addMartimonialProfile(e)}},{key:"isItOwner",value:function(){return!(!this.edittenant||!this.edittenant.createdBy)&&this.ygen.isItOwner(this.edittenant.createdBy)}},{key:"registerNewUser",value:function(e){this.yauthservice.registerMatrimonialProfile(e).subscribe((function(e){console.log(e)}))}},{key:"isTenantSelection",value:function(){return this.ystorageservice.isTenantSelection()}},{key:"ionViewDidLeave",value:function(){console.log("leaving"),this.ystorageservice.removeItem(s.R.SELECTED_TENANT)}},{key:"setTempdata",value:function(e){console.log(e);var t=JSON.parse(e.target.value),i=""+t.dob.month;1==i.length&&(i="0"+i);var r=""+t.dob.date;1==r.length&&(r="0"+r);var n=l(t.dob.year+"-"+i+"-"+r);this.newuser={userid:t.email,password:"123456",aboutfamily:"",addedby:"SELF",address:"",approved:!1,city:t.city,country:"INDIA",dob:+n,education:t.education,emailVerified:!1,employeed:t.employeed,expectation:"",featured:!1,firstname:t.fname,gender:"MALE",gotra:"",heightfeet:"5",heightinches:"7",isadmin:!1,lastname:t.sname,maritialstatus:"NEVER MARRIED",middlename:t.mname,mobileVerified:!1,nativecity:"",nickname:t.nname,paid:!1,phoneNumber:t.phone,photo:t.imageUrl,profession:"",professionaldeatil:"",profileid:this.randomletter()+this.randomletter()+~~(1e3*Math.random()),salary:"",state:"",zip:"",userName:t.fname+" "+t.sname},console.log("yeah",this.newuser)}},{key:"doit",value:function(){this.newuser&&this.registerNewUser(this.newuser)}}]),e}(),f.\u0275fac=function(e){return new(e||f)(d.Qb(s.fb),d.Qb(s.S),d.Qb(s.U),d.Qb(s.Q),d.Qb(c.d),d.Qb(s.M),d.Qb(s.db),d.Qb(s.R),d.Qb(a.j),d.Qb(a.a),d.Qb(d.A),d.Qb(s.T))},f.\u0275cmp=d.Kb({type:f,selectors:[["app-register"]],decls:16,vars:7,consts:[[3,"color"],["slot","start"],["align-items-center","","text-center","",4,"ngIf"],[1,"box"],[3,"captchaOn","captchaName","whatform","whatformgroup","whichbuttons","actionEvent","cancelEvent",4,"ngIf"],["align-items-center","","text-center",""],["position","stacked"],["type","url","value","",3,"ionInput"],[3,"formGroup"],["type","password","formControlName","newpassword","clearInput","true","required","true","value",""],["type","password","formControlName","confirmpassword","clearInput","true","required","true","value",""],["color","danger"],["padding-left","",3,"hidden"],["expand","block","fill","outline",3,"disabled","click"],[3,"captchaOn","captchaName","whatform","whatformgroup","whichbuttons","actionEvent","cancelEvent"]],template:function(e,t){1&e&&(d.Wb(0,"ion-header"),d.Wb(1,"ion-toolbar",0),d.Wb(2,"ion-buttons",1),d.Rb(3,"ion-menu-button"),d.Vb(),d.Wb(4,"ion-title"),d.Mc(5),d.jc(6,"translate"),d.Vb(),d.Vb(),d.Vb(),d.Wb(7,"ion-content"),d.Wb(8,"ion-grid"),d.Kc(9,p,6,0,"ion-row",2),d.Kc(10,b,19,3,"ion-row",2),d.Wb(11,"ion-row"),d.Wb(12,"ion-col"),d.Wb(13,"mat-card"),d.Wb(14,"mat-card-content",3),d.Kc(15,m,1,5,"yogagainv2-dyanamic-page",4),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb()),2&e&&(d.Db(1),d.rc("color",t.isTenantSelection()?"primary":"secondary"),d.Db(4),d.Nc(d.kc(6,5,t.title)),d.Db(4),d.rc("ngIf",t.ygen.isLoggedIn()&&t.ygen.isAdmin()),d.Db(1),d.rc("ngIf",t.ygen.isLoggedIn()&&t.isItOwner()),d.Db(5),d.rc("ngIf",t.clear))},directives:[o.y,o.hb,o.j,o.N,o.fb,o.s,o.x,r.m,o.R,o.r,u.a,u.c,o.D,o.J,o.C,o.ub,n.A,n.q,n.i,n.p,n.g,n.w,o.cb,o.i,s.q],pipes:[h.c],styles:[""]}),f)}],g=((y=function e(){_classCallCheck(this,e)}).\u0275mod=d.Ob({type:y}),y.\u0275inj=d.Nb({factory:function(e){return new(e||y)},imports:[[r.c,n.j,n.v,o.ib,s.H,s.b,s.o,a.n.forChild(v)]]}),y)}}]);